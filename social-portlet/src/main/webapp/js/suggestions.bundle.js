define((function(){return function(t){var e={};function s(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=30)}({0:function(t,e,s){"use strict";function n(t,e,s,n,i,o,a,r){var l=typeof(t=t||{}).default;"object"!==l&&"function"!==l||(t=t.default);var p,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=s,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId=o),a?(p=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=p):i&&(p=r?function(){i.call(this,this.$root.$options.shadowRoot)}:i),p)if(u.functional){u._injectStyles=p;var c=u.render;u.render=function(t,e){return p.call(e),c(t,e)}}else{var g=u.beforeCreate;u.beforeCreate=g?[].concat(g,p):[p]}return{exports:t,options:u}}s.d(e,"a",(function(){return n}))},30:function(t,e,s){"use strict";s.r(e),s.d(e,"init",(function(){return x}));var n={props:{suggestionsType:{type:String,default:"all"}},data:function(){return{peopleSuggestionsList:[],spacesSuggestionsList:[],loading:2}},computed:{displayPeopleSuggestions:function(){return!this.suggestionsType||"all"===this.suggestionsType||"user"===this.suggestionsType},displaySpacesSuggestions:function(){return!this.suggestionsType||"all"===this.suggestionsType||"space"===this.suggestionsType},peoplesToDisplay:function(){return this.peopleSuggestionsList.slice(0,2)},spacesToDisplay:function(){return this.spacesSuggestionsList.slice(0,2)},appVisibilityClass:function(){return this.spacesSuggestionsList&&this.spacesSuggestionsList.length||this.peopleSuggestionsList&&this.peopleSuggestionsList.length?"d-flex":"d-none"}},watch:{loading:function(t,e){var s=this;t===e||t||this.$nextTick().then((function(){return s.$root.$applicationLoaded()}))}},created:function(){this.displayPeopleSuggestions?this.initPeopleSuggestionsList():this.loading--,this.displaySpacesSuggestions?this.initSpaceSuggestionsList():this.loading--},methods:{initPeopleSuggestionsList:function(){var t=this;return this.$userService.getSuggestionsUsers().then((function(e){t.peopleSuggestionsList=e.items})).finally((function(){t.loading--}))},initSpaceSuggestionsList:function(){var t=this;return this.$spaceService.getSuggestionsSpace().then((function(e){t.spacesSuggestionsList=e.items})).finally((function(){t.loading--}))}}},i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{staticClass:"hiddenable-widget"},[s("v-flex",{class:t.appVisibilityClass,attrs:{xs12:"",sm12:""}},[s("v-layout",{attrs:{row:"",wrap:"","mx-0":""}},[s("v-flex",{attrs:{"d-flex":"",xs12:""}},[s("v-card",{staticClass:"flex suggestions-wrapper",attrs:{flat:""}},[s("v-card-title",{staticClass:"suggestions-title subtitle-1 text-uppercase pb-0"},[s("span",[t._v(t._s(t.$t("suggestions.label")))])]),t._v(" "),t.peopleSuggestionsList.length>0&&"space"!==t.suggestionsType?s("v-list",{staticClass:"suggestions-list people-list py-4 mx-4",attrs:{dense:""}},t._l(t.peoplesToDisplay,(function(e){return s("exo-suggestions-people-list-item",{key:e.suggestionId,attrs:{people:e,"people-suggestions-list":t.peopleSuggestionsList}})})),1):t._e(),t._v(" "),t.spacesSuggestionsList.length>0&&"people"!==t.suggestionsType?s("v-list",{staticClass:"suggestions-list space-list py-4 mx-4",attrs:{dense:""}},t._l(t.spacesToDisplay,(function(e){return s("exo-suggestions-space-list-item",{key:e.spaceId,attrs:{space:e,"spaces-suggestions-list":t.spacesSuggestionsList}})})),1):t._e()],1)],1)],1)],1)],1)};i._withStripped=!0;var o=s(0),a=Object(o.a)(n,i,[],!1,null,null,null);a.options.__file="src/main/webapp/vue-apps/suggestions-people-space/components/ExoSuggestionsPeopleAndSpace.vue";var r=a.exports,l={props:{space:{type:Object,default:function(){return null}},avatarSize:{type:Number,default:function(){return 37}},spacesSuggestionsList:{type:Array,default:function(){return[]}}},computed:{avatarUrl:function(){return this.space&&this.space.spaceAvatarUrl||eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/"+this.space.spaceUrl+"/avatar"},url:function(){return this.space&&this.space.spaceId?eXo.env.portal.context+"/g/:spaces:"+this.space.spaceUrl+"/":"#"}},methods:{joinSpace:function(t){var e=this;this.$spaceService.requestJoin(t.spaceId).then((function(){e.spacesSuggestionsList.splice(e.spacesSuggestionsList.indexOf(t),1)}))},ignoredSuggestionSpace:function(t){var e=this;this.$spaceService.ignoreSuggestion(t).then((function(){e.spacesSuggestionsList.splice(e.spacesSuggestionsList.indexOf(t),1)}))}}},p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-list-item",{staticClass:"suggestions-list-item pa-0"},[s("v-list-item-avatar",{staticClass:"spaceAvatar",attrs:{size:t.avatarSize}},[s("v-img",{attrs:{"lazy-src":t.avatarUrl||"",src:t.avatarUrl||"",transition:"none",eager:""}})],1),t._v(" "),s("v-list-item-content",{staticClass:"pb-3"},[s("v-list-item-title",{staticClass:"body-2 font-weight-bold suggestions-list-item-title"},[s("a",{staticClass:"text-color",attrs:{href:t.url}},[t._v("\n        "+t._s(t.space.displayName)+"\n      ")])]),t._v(" "),s("v-list-item-subtitle",{staticClass:"caption text-sub-title suggestions-list-item-subtitle"},[t._v("\n      "+t._s(t.space.members)+" "+t._s(t.$t("spacemember.Label"))+"\n    ")])],1),t._v(" "),s("v-list-item-action",{staticClass:"suggestions-list-item-actions"},[s("v-btn-toggle",{staticClass:"transparent"},[s("a",{staticClass:"px-0 suggestions-btn-action connexion-accept-btn",attrs:{text:"",icon:"",small:"","min-width":"auto"},on:{click:function(e){return t.joinSpace(t.space)}}},[s("i",{staticClass:"uiIconPlusLight"})]),t._v(" "),s("a",{staticClass:"px-0 suggestions-btn-action connexion-refuse-btn",attrs:{text:"",small:"","min-width":"auto"},on:{click:function(e){return t.ignoredSuggestionSpace(t.space)}}},[s("i",{staticClass:"uiIconCloseCircled"})])])],1)],1)};p._withStripped=!0;var u=Object(o.a)(l,p,[],!1,null,null,null);u.options.__file="src/main/webapp/vue-apps/suggestions-people-space/components/ExoSuggestionsSpaceListItem.vue";var c=u.exports,g={props:{people:{type:Object,default:function(){return null}},avatarSize:{type:Number,default:function(){return 37}},peopleSuggestionsList:{type:Array,default:function(){return[]}}},computed:{avatarUrl:function(){return this.people&&this.people.avatar||eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/users/"+this.people.username+"/avatar"},url:function(){return this.people&&this.people.suggestionId?eXo.env.portal.context+"/"+eXo.env.portal.portalName+"/profile/"+this.people.username:"#"}},methods:{connectionRequest:function(t){var e=this;this.$userService.sendConnectionRequest(t.suggestionId).then((function(){e.peopleSuggestionsList.splice(e.peopleSuggestionsList.indexOf(t),1)}))},ignoredConnectionUser:function(t){var e=this;this.$userService.ignoreSuggestion(t.username).then((function(){e.peopleSuggestionsList.splice(e.peopleSuggestionsList.indexOf(t),1)}))}}},f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-list-item",{staticClass:"suggestions-list-item pa-0"},[s("v-list-item-avatar",{attrs:{size:t.avatarSize}},[s("v-img",{attrs:{"lazy-src":t.avatarUrl||"",src:t.avatarUrl||"",transition:"none",eager:""}})],1),t._v(" "),s("v-list-item-content",{staticClass:"pb-3"},[s("v-list-item-title",{staticClass:"body-2 font-weight-bold text-color suggestions-list-item-title"},[s("a",{staticClass:"text-color",attrs:{href:t.url}},[t._v("\n        "+t._s(t.people.suggestionName)+"\n      ")])]),t._v(" "),s("v-list-item-subtitle",{staticClass:"caption text-sub-title suggestions-list-item-subtitle"},[t._v("\n      "+t._s(t.people.number)+" "+t._s(t.$t("connection.label"))+"\n    ")])],1),t._v(" "),s("v-list-item-action",{staticClass:"suggestions-list-item-actions"},[s("v-btn-toggle",{staticClass:"transparent"},[s("a",{staticClass:"px-0 suggestions-btn-action connexion-accept-btn",attrs:{text:"",icon:"",small:"","min-width":"auto"},on:{click:function(e){return t.connectionRequest(t.people)}}},[s("i",{staticClass:"uiIconInviteUser"})]),t._v(" "),s("a",{staticClass:"px-0 suggestions-btn-action connexion-refuse-btn",attrs:{text:"",small:"","min-width":"auto"},on:{click:function(e){return t.ignoredConnectionUser(t.people)}}},[s("i",{staticClass:"uiIconCloseCircled"})])])],1)],1)};f._withStripped=!0;var v=Object(o.a)(g,f,[],!1,null,null,null);v.options.__file="src/main/webapp/vue-apps/suggestions-people-space/components/ExoSuggestionsPeopleListItem.vue";var d={"exo-suggestions-people-and-space":r,"exo-suggestions-space-list-item":c,"exo-suggestions-people-list-item":v.exports};for(var h in d)Vue.component(h,d[h]);var m="undefined"!=typeof eXo?eXo.env.portal.language:"en",S=Vue.prototype.$spacesConstants.PORTAL+"/"+Vue.prototype.$spacesConstants.PORTAL_REST+"/i18n/bundle/locale.portlet.social.SuggestionsPortlet-"+m+".json";if(extensionRegistry){var y=extensionRegistry.loadComponents("ExoSuggestionsPeopleAndSpace");y&&y.length>0&&y.forEach((function(t){Vue.component(t.componentName,t.componentOptions)}))}var _="SuggestionsPeopleAndSpace";function x(t){exoi18n.loadLanguageAsync(m,S).then((function(e){Vue.createApp({template:'<exo-suggestions-people-and-space id="'+_+'" suggestionsType="'+(t||"all")+'"></exo-suggestions-people-and-space>',i18n:e,vuetify:Vue.prototype.vuetifyOptions},"#"+_,"Suggestions "+t)}))}}})}));