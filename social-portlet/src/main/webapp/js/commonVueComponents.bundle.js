define((function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){var l=typeof(e=e||{}).default;"object"!==l&&"function"!==l||(e=e.default);var c,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId=i),a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var d=u.render;u.render=function(e,t){return c.call(t),d(e,t)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},11:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getUser",(function(){return ze})),n.d(r,"isSuperUser",(function(){return Ge})),n.d(r,"isDelegatedAdministrator",(function(){return qe})),n.d(r,"isSynchronizedUserAllowedToChangePassword",(function(){return Fe})),n.d(r,"getUserByEmail",(function(){return He})),n.d(r,"getUsers",(function(){return Je})),n.d(r,"getUsersByStatus",(function(){return We})),n.d(r,"getConnections",(function(){return Ke})),n.d(r,"getInvitations",(function(){return Ye})),n.d(r,"getPending",(function(){return Ze})),n.d(r,"getSuggestionsUsers",(function(){return Qe})),n.d(r,"sendConnectionRequest",(function(){return et})),n.d(r,"ignoreSuggestion",(function(){return tt})),n.d(r,"connect",(function(){return nt})),n.d(r,"confirm",(function(){return rt})),n.d(r,"deleteRelationship",(function(){return ot})),n.d(r,"updateProfileField",(function(){return it})),n.d(r,"updateProfileFields",(function(){return at})),n.d(r,"changePassword",(function(){return st})),n.d(r,"importUsers",(function(){return lt})),n.d(r,"checkImportUsersProgress",(function(){return ct})),n.d(r,"cleanImportUsers",(function(){return ut})),n.d(r,"multiSelectAction",(function(){return dt}));var o={};n.r(o),n.d(o,"getSpaceTemplates",(function(){return ft})),n.d(o,"getSpaceMembers",(function(){return ht})),n.d(o,"findSpaceExternalInvitationsBySpaceId",(function(){return mt})),n.d(o,"declineExternalInvitation",(function(){return vt})),n.d(o,"isSpaceMember",(function(){return gt})),n.d(o,"getSpaceById",(function(){return yt})),n.d(o,"getSpaceByPrettyName",(function(){return wt})),n.d(o,"getSpaceByDisplayName",(function(){return bt})),n.d(o,"getSpaceApplications",(function(){return xt})),n.d(o,"getSpaceApplicationsChoices",(function(){return St})),n.d(o,"removeSpacesApplication",(function(){return _t})),n.d(o,"addSpacesApplication",(function(){return Et})),n.d(o,"getSpaceNavigations",(function(){return Tt})),n.d(o,"getSpaces",(function(){return Ct})),n.d(o,"removeSpace",(function(){return It})),n.d(o,"updateSpace",(function(){return Xt})),n.d(o,"createSpace",(function(){return Pt})),n.d(o,"leave",(function(){return Ot})),n.d(o,"cancel",(function(){return $t})),n.d(o,"join",(function(){return Dt})),n.d(o,"requestJoin",(function(){return kt})),n.d(o,"accept",(function(){return At})),n.d(o,"deny",(function(){return Rt})),n.d(o,"acceptUserRequest",(function(){return jt})),n.d(o,"refuseUserRequest",(function(){return Lt})),n.d(o,"cancelInvitation",(function(){return Nt})),n.d(o,"promoteManager",(function(){return Ut})),n.d(o,"removeManager",(function(){return Vt})),n.d(o,"setAsRedactor",(function(){return Mt})),n.d(o,"removeRedactor",(function(){return Bt})),n.d(o,"addApplication",(function(){return zt})),n.d(o,"removeApplication",(function(){return Gt})),n.d(o,"moveApplicationUp",(function(){return qt})),n.d(o,"moveApplicationDown",(function(){return Ft})),n.d(o,"removeMember",(function(){return Ht})),n.d(o,"getSuggestionsSpace",(function(){return Jt})),n.d(o,"ignoreSuggestion",(function(){return Wt})),n.d(o,"checkExternals",(function(){return Kt})),n.d(o,"shareActivityOnSpaces",(function(){return Yt}));var i={};n.r(i),n.d(i,"getIdentityById",(function(){return Zt})),n.d(i,"getIdentityByProviderIdAndRemoteId",(function(){return Qt}));var a={};n.r(a),n.d(a,"searchSpacesOrUsers",(function(){return en})),n.d(a,"convertIdentityToSuggesterItem",(function(){return tn})),n.d(a,"convertSuggesterItemToIdentity",(function(){return nn})),n.d(a,"getSuggesterItemByIdentityId",(function(){return rn})),n.d(a,"getSuggesterItemToIdentity",(function(){return on}));var s={};n.r(s),n.d(s,"avatarExcceedsLimitError",(function(){return an})),n.d(s,"bannerExcceedsLimitError",(function(){return sn})),n.d(s,"MAX_RANDOM_NUMBER",(function(){return ln})),n.d(s,"getUploadProgress",(function(){return cn})),n.d(s,"deleteUpload",(function(){return un})),n.d(s,"abortUpload",(function(){return dn})),n.d(s,"upload",(function(){return pn})),n.d(s,"generateRandomId",(function(){return fn}));var l={};n.r(l),n.d(l,"getDateObjectFromString",(function(){return vn})),n.d(l,"getISODate",(function(){return gn})),n.d(l,"formatDateObjectToDisplay",(function(){return yn})),n.d(l,"getRelativeTimeLabelKey",(function(){return wn})),n.d(l,"getRelativeTimeValue",(function(){return bn})),n.d(l,"getShortRelativeTimeLabelKey",(function(){return xn})),n.d(l,"getShortRelativeTimeValue",(function(){return Sn}));var c={};n.r(c),n.d(c,"isFeatureEnabled",(function(){return En}));var u={};n.r(u),n.d(u,"getActivities",(function(){return Tn})),n.d(u,"getActivityById",(function(){return Cn})),n.d(u,"getActivityComments",(function(){return In})),n.d(u,"createActivity",(function(){return Xn})),n.d(u,"shareActivity",(function(){return Pn})),n.d(u,"updateActivity",(function(){return On})),n.d(u,"deleteActivity",(function(){return $n})),n.d(u,"getActivityLikers",(function(){return Dn})),n.d(u,"likeActivity",(function(){return kn})),n.d(u,"unlikeActivity",(function(){return An})),n.d(u,"createComment",(function(){return Rn})),n.d(u,"updateComment",(function(){return jn})),n.d(u,"computeParentCommentsList",(function(){return Ln}));var d={};n.r(d),n.d(d,"htmlToText",(function(){return Mn})),n.d(d,"trim",(function(){return Bn})),n.d(d,"initTipTip",(function(){return zn}));var p={props:{value:{type:Boolean,default:function(){return!1}},right:{type:Boolean,default:function(){return!1}},left:{type:Boolean,default:function(){return!1}},fixed:{type:Boolean,default:function(){return!1}},eager:{type:Boolean,default:function(){return!1}},confirmClose:{type:Boolean,default:function(){return!1}},drawerWidth:{type:String,default:function(){return"420px"}},allowExpand:{type:Boolean,default:!1},showOverlay:{type:Boolean,default:!1},confirmCloseLabels:{type:Object,default:function(){return{title:null,message:null,ok:null,cancel:null}}},disablePullToRefresh:{type:Boolean,default:!1}},data:function(){return{initialized:!1,drawer:!1,loading:!1,expand:!1,modalOpened:!1}},computed:{rightDrawer:function(){return this.right&&"ltr"===eXo.env.portal.orientation||this.left&&"rtl"===eXo.env.portal.orientation},leftDrawer:function(){return!this.rightDrawer},width:function(){return this.expand?"100%":this.drawerWidth},isMobile:function(){return this.$vuetify&&this.$vuetify.breakpoint&&"xs"===this.$vuetify.breakpoint.name},expandIcon:function(){return this.expand?"mdi-arrow-collapse":"mdi-arrow-expand"},expandTooltip:function(){return this.expand&&this.$t("label.collapse")||this.$t("label.expand")}},watch:{value:function(){this.value&&!this.drawer?this.open():!this.value&&this.drawer&&this.close()},drawer:function(){if(this.drawer)document.dispatchEvent(new CustomEvent("drawerOpened")),this.initialized||(this.initialized=!0),eXo.openedDrawers.push(this),this.$emit("opened"),this.disablePullToRefresh&&(document.body.style.overscrollBehaviorY="contain");else{if(document.dispatchEvent(new CustomEvent("drawerClosed")),eXo.openedDrawers){var e=eXo.openedDrawers.indexOf(this);e>=0&&eXo.openedDrawers.splice(e,1)}this.$emit("closed"),this.disablePullToRefresh&&(document.body.style.overscrollBehaviorY="")}this.$emit("input",this.drawer),this.expand=!1}},created:function(){var e=this;eXo.openedDrawers||(eXo.openedDrawers=[]),document.addEventListener("modalOpened",(function(){return e.modalOpened=e.drawer})),document.addEventListener("modalClosed",(function(){return e.modalOpened=!1})),document.addEventListener("closeAllDrawers",this.close),document.addEventListener("closeDisplayedDrawer",this.closeDisplayedDrawer)},methods:{open:function(){this.drawer=!0},closeDisplayedDrawer:function(){var e=eXo.openedDrawers.indexOf(this)===eXo.openedDrawers.length-1;this.drawer&&e&&this.close()},close:function(){this.confirmClose?this.$refs.closeConfirmDialog&&(event&&(event.preventDefault(),event.stopPropagation()),this.$refs.closeConfirmDialog.dialog?this.$nextTick(this.$refs.closeConfirmDialog.close):this.$nextTick(this.$refs.closeConfirmDialog.open)):(event&&(event.preventDefault(),event.stopPropagation()),this.closeEffectively())},closeEffectively:function(){this.drawer=!1},startLoading:function(){this.loading=!0},endLoading:function(){this.loading=!1},toogleExpand:function(){this.expand=!this.expand}}},f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{staticClass:"drawerParent",class:!e.drawer&&"d-none d-sm-flex",attrs:{right:e.rightDrawer,left:e.leftDrawer,absolute:!e.fixed,fixed:e.fixed,width:e.width,"hide-overlay":!e.showOverlay,temporary:!e.showOverlay,touchless:"",stateless:"",height:"100%","max-height":"100%","max-width":"100vw"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[e.initialized||e.eager?n("v-container",{staticClass:"pa-0",attrs:{"fill-height":""}},[n("v-layout",{attrs:{column:""}},[e.$slots.title?[n("v-flex",{staticClass:"mx-0 drawerHeader flex-grow-0"},[n("v-list-item",{staticClass:"pe-0"},[n("v-list-item-content",{staticClass:"drawerTitle align-start text-header-title text-truncate"},[e._t("title")],2),e._v(" "),n("v-list-item-action",{staticClass:"drawerIcons align-end d-flex flex-row"},[e._t("titleIcons"),e._v(" "),e.allowExpand&&!e.isMobile?n("v-btn",{attrs:{title:e.expandTooltip,icon:""},on:{click:e.toogleExpand}},[n("v-icon",{attrs:{size:"18"},domProps:{textContent:e._s(e.expandIcon)}})],1):e._e(),e._v(" "),n("v-btn",{attrs:{title:e.$t("label.close"),icon:""}},[n("v-icon",{on:{click:function(t){return e.close()}}},[e._v("mdi-close")])],1)],2)],1)],1),e._v(" "),e.loading?n("v-progress-linear",{attrs:{indeterminate:"",color:"primary"}}):n("v-divider",{staticClass:"my-0"})]:e._e(),e._v(" "),n("v-flex",{staticClass:"drawerContent flex-grow-1 overflow-auto border-box-sizing"},[e._t("content")],2),e._v(" "),e.$slots.footer?[n("v-divider",{staticClass:"my-0"}),e._v(" "),e.$slots.footer?n("v-flex",{staticClass:"drawerFooter border-box-sizing flex-grow-0 px-4 py-3"},[e._t("footer")],2):e._e()]:e._e(),e._v(" "),e.confirmClose?n("exo-confirm-dialog",{ref:"closeConfirmDialog",attrs:{title:e.confirmCloseLabels.title,message:e.confirmCloseLabels.message,"ok-label":e.confirmCloseLabels.ok,"cancel-label":e.confirmCloseLabels.cancel,persistent:""},on:{ok:e.closeEffectively}}):e._e()],2)],1):e._e()],1)};f._withStripped=!0;var h=n(0),m=Object(h.a)(p,f,[],!1,null,null,null);m.options.__file="src/main/webapp/vue-apps/common/components/ExoDrawer.vue";var v=m.exports,g={props:{loading:{type:Boolean,default:function(){return!1}},persistent:{type:Boolean,default:function(){return!1}},title:{type:String,default:function(){return null}},message:{type:String,default:function(){return null}},okLabel:{type:String,default:function(){return null}},cancelLabel:{type:String,default:function(){return null}},hideActions:{type:Boolean,default:function(){return!1}},width:{type:String,default:function(){return"400px"}}},data:function(){return{dialog:!1}},watch:{dialog:function(){this.dialog?(this.$emit("dialog-opened"),document.dispatchEvent(new CustomEvent("modalOpened"))):(this.$emit("dialog-closed"),document.dispatchEvent(new CustomEvent("modalClosed")))}},methods:{ok:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.$emit("ok"),this.close(e)},close:function(e){var t=this;e&&(e.preventDefault(),e.stopPropagation()),this.$emit("closed"),this.$nextTick((function(){return t.dialog=!1}))},open:function(){var e=this;this.dialog=!0,this.$emit("opened"),this.$nextTick((function(){return e.dialog=!0}))}}},y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{ref:"dialog",attrs:{persistent:e.persistent,width:e.width,"content-class":"uiPopup","max-width":"100vw"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",{staticClass:"elevation-12"},[n("div",{staticClass:"ignore-vuetify-classes popupHeader ClearFix"},[n("a",{staticClass:"uiIconClose pull-right",attrs:{"aria-hidden":"true"},on:{click:e.close}}),e._v(" "),n("span",{staticClass:"ignore-vuetify-classes PopupTitle popupTitle text-truncate",domProps:{innerHTML:e._s(e.title)}})]),e._v(" "),n("v-card-text",{domProps:{innerHTML:e._s(e.message)}}),e._v(" "),e.hideActions?e._e():n("v-card-actions",[n("v-spacer"),e._v(" "),e.okLabel?n("button",{staticClass:"ignore-vuetify-classes btn btn-primary me-2",attrs:{disabled:e.loading,loading:e.loading},on:{click:e.ok}},[e._v("\n        "+e._s(e.okLabel)+"\n      ")]):e._e(),e._v(" "),e.cancelLabel?n("button",{staticClass:"ignore-vuetify-classes btn ms-2",attrs:{disabled:e.loading,loading:e.loading},on:{click:e.close}},[e._v("\n        "+e._s(e.cancelLabel)+"\n      ")]):e._e(),e._v(" "),n("v-spacer")],1)],1)],1)};y._withStripped=!0;var w=Object(h.a)(g,y,[],!1,null,null,null);w.options.__file="src/main/webapp/vue-apps/common/components/ExoConfirmDialog.vue";var b=w.exports,x={props:{users:{type:Object,default:function(){return null}},max:{type:Number,default:function(){return 0}},iconSize:{type:Number,default:function(){return 37}}},computed:{usersToDisplay:function(){return this.users&&this.users.slice(0,this.max)},notDisplayedItems:function(){return this.users&&this.users.length>this.max?this.users.length-this.max:0}}},S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex flex-nowrap"},[e._l(e.usersToDisplay,(function(t){return n("exo-user-avatar",{key:t,staticClass:"mx-auto",attrs:{username:t.username,title:t.fullname,size:e.iconSize,labels:e.labels,"retrieve-extra-information":!1}})})),e._v(" "),e.notDisplayedItems?n("v-avatar",{staticClass:"notDisplayedIdentitiesOverlay",attrs:{size:e.iconSize,tiptip:!1},on:{click:function(t){return e.$emit("open-detail")}}},[n("div",{staticClass:"notDisplayedIdentities"},[e._v("\n      +"+e._s(e.notDisplayedItems)+"\n    ")])]):e._e()],2)};S._withStripped=!0;var _=Object(h.a)(x,S,[],!1,null,null,null);_.options.__file="src/main/webapp/vue-apps/common/components/ExoUserAvatarsList.vue";var E=_.exports,T={props:{username:{type:String,default:function(){return null}},fullname:{type:String,default:function(){return null}},external:{type:Boolean,default:!1},retrieveExtraInformation:{type:Boolean,default:!0},boldTitle:{type:Boolean,default:function(){return!1}},linkStyle:{type:Boolean,default:function(){return!1}},tiptip:{type:Boolean,default:function(){return!0}},size:{type:Number,default:function(){return 37}},tiptipPosition:{type:String,default:function(){return null}},avatarClass:{type:String,default:function(){return""}},avatarUrl:{type:String,default:function(){return eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/users/"+this.username+"/avatar"}},url:{type:String,default:function(){return eXo.env.portal.context+"/"+eXo.env.portal.portalName+"/profile/"+this.username}},title:{type:String,default:function(){return""+this.title}}},data:function(){return{id:"userAvatar"+parseInt(1e4*Math.random()).toString().toString(),isExternal:!1}},computed:{externalTag:function(){return"( "+this.$t("userAvatar.external.label")+" )"},fullnameStyle:function(){return(this.boldTitle?"font-weight-bold ":"")+(this.linkStyle?"":"text-color")}},watch:{external:function(){this.isExternal=this.external&&Boolean(this.external)||!1}},created:function(){var e=this;this.retrieveExtraInformation&&this.fullname?this.$userService.getUser(this.username).then((function(t){e.isExternal="true"===t.external})):this.isExternal=this.external},mounted:function(){this.username&&this.tiptip&&this.initTiptip()},methods:{initTiptip:function(){var e=this;this.$nextTick((function(){$("#"+e.id).userPopup({restURL:"/portal/rest/social/people/getPeopleInfo/{0}.json",userId:e.username,keepAlive:!0})}))}}},C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-nowrap d-flex flex-shrink-0 align-center"},[n("a",{staticClass:"flex-nowrap flex-shrink-0 d-flex text-truncate container--fluid",attrs:{id:e.id,href:e.url}},[n("v-avatar",{staticClass:"ma-0 pull-left",class:e.avatarClass,attrs:{size:e.size}},[n("img",{staticClass:"object-fit-cover ma-auto",attrs:{src:e.avatarUrl,loading:"lazy"}})]),e._v(" "),e.fullname||e.$slots.subTitle?n("div",{staticClass:"pull-left ms-2 d-flex flex-column text-truncate"},[e.fullname?n("p",{staticClass:"text-truncate subtitle-2 my-auto",class:e.fullnameStyle},[e._v("\n        "+e._s(e.fullname)+"\n        "),e.isExternal?n("span",{staticClass:"muted"},[e._v(e._s(e.externalTag)+" ")]):e._e()]):e._e(),e._v(" "),e.$slots.subTitle?n("p",{staticClass:"text-sub-title my-auto text-left"},[e._t("subTitle")],2):e._e()]):e._e(),e._v(" "),e.$slots.actions?[e._t("actions")]:e._e()],2)])};C._withStripped=!0;var I=Object(h.a)(T,C,[],!1,null,null,null);I.options.__file="src/main/webapp/vue-apps/common/components/ExoUserAvatar.vue";var X=I.exports,P={props:{space:{type:Object,default:function(){return null}},boldTitle:{type:Boolean,default:function(){return!1}},linkStyle:{type:Boolean,default:function(){return!1}},size:{type:Number,default:function(){return 37}},tiptip:{type:Boolean,default:function(){return!0}},tiptipPosition:{type:String,default:function(){return null}}},data:function(){return{id:"spaceAvatar"+parseInt(1e4*Math.random()).toString().toString()}},computed:{spaceId:function(){return this.space&&this.space.id},displayName:function(){return this.space&&this.space.displayName},prettyName:function(){return this.space&&this.space.prettyName},groupId:function(){return this.space&&this.space.groupId},avatarUrl:function(){return this.space&&this.space.avatarUrl||eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/"+this.prettyName+"/avatar"},url:function(){if(!this.groupId)return"#";var e=this.groupId.replace(/\//g,":");return eXo.env.portal.context+"/g/"+e+"/"},fullnameStyle:function(){return(this.boldTitle?"font-weight-bold ":"")+(this.linkStyle?"":"text-color")}},mounted:function(){this.spaceId&&this.groupId&&this.tiptip&&this.initTiptip()},methods:{initTiptip:function(){var e=this;this.$nextTick((function(){$("#"+e.id).spacePopup({userName:eXo.env.portal.userName,spaceID:e.spaceId,restURL:"/portal/rest/v1/social/spaces/{0}",membersRestURL:"/portal/rest/v1/social/spaces/{0}/users?returnSize=true",managerRestUrl:"/portal/rest/v1/social/spaces/{0}/users?role=manager&returnSize=true",membershipRestUrl:"/portal/rest/v1/social/spacesMemberships?space={0}&returnSize=true",defaultAvatarUrl:e.avatarUrl,deleteMembershipRestUrl:"/portal/rest/v1/social/spacesMemberships/{0}:{1}:{2}",content:!1,keepAlive:!0,defaultPosition:e.tiptipPosition||"left_bottom",maxWidth:"320px"})}))}}},O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"flex-nowrap flex-shrink-0 d-flex spaceAvatar",attrs:{id:e.id,href:e.url}},[n("v-avatar",{staticClass:"pull-left my-auto",attrs:{size:e.size,tile:""}},[n("img",{staticClass:"object-fit-cover ma-auto",class:e.avatarClass,attrs:{src:e.avatarUrl,loading:"lazy"}})]),e._v(" "),e.displayName||e.$slots.subTitle?n("div",{staticClass:"pull-left text-truncate ms-2 d-flex"},[e.displayName?n("p",{staticClass:"text-truncate subtitle-2 my-auto",class:e.fullnameStyle},[e._v("\n      "+e._s(e.displayName)+"\n    ")]):e._e(),e._v(" "),e.$slots.subTitle?n("p",{staticClass:"text-sub-title my-auto"},[e._t("subTitle")],2):e._e()]):e._e()],1)};O._withStripped=!0;var D=Object(h.a)(P,O,[],!1,null,null,null);D.options.__file="src/main/webapp/vue-apps/common/components/ExoSpaceAvatar.vue";var k=D.exports,A={props:{value:{type:Object,default:function(){return!1}},items:{type:Array,default:function(){return[]}},labels:{type:Object,default:function(){return{label:"",placeholder:"",searchPlaceholder:"",noDataLabel:""}}},includeUsers:{type:Boolean,default:function(){return!1}},includeSpaces:{type:Boolean,default:function(){return!1}},noRedactorSpace:{type:Boolean,default:function(){return!1}},onlyRedactor:{type:Boolean,default:function(){return!1}},onlyManager:{type:Boolean,default:function(){return!1}},disabled:{type:Boolean,default:function(){return!1}},multiple:{type:Boolean,default:function(){return!1}},required:{type:Boolean,default:function(){return!1}},ignoreItems:{type:Array,default:function(){return[]}},rules:{type:Array,default:function(){return[]}},height:{type:Number,default:function(){return null}},width:{type:String,default:function(){return null}},typeOfRelations:{type:String,default:function(){return"mention_activity_stream"}},searchOptions:{type:Object,default:function(){return null}},filterStyle:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1}},data:function(){return{id:"AutoComplete"+parseInt(1e4*Math.random()).toString().toString(),previousSearchTerm:null,searchTerm:null,searchStarted:null,loadingSuggestions:0}},computed:{prependInnerIcon:function(){return this.filterStyle?"fa-filter":""},autocompleteClass:function(){return((this.required&&!this.value?"required-field invalid":this.required&&"required-field")||"")+" "+(this.filterStyle?"identitySuggesterFilterStyle":"identitySuggesterInputStyle")},displaySearchPlaceHolder:function(){return this.labels.searchPlaceholder&&(!this.searchStarted||!this.value)},hideNoData:function(){return!this.labels.noDataLabel&&!this.labels.searchPlaceholder},menuItemStyle:function(){return this.width&&"width:"+this.width+"px;max-width:"+this.width+"px;min-width:"+this.width+"px;"||""}},watch:{loadingSuggestions:function(){this.loadingSuggestions>0&&!this.searchStarted&&(this.searchStarted=!0)},searchTerm:function(e){var t=this;e&&e.length?window.setTimeout((function(){t.focus(),t.previousSearchTerm&&t.previousSearchTerm!==t.searchTerm||(t.loadingSuggestions=0,t.items=[],t.$suggesterService.searchSpacesOrUsers(e,t.items,t.typeOfRelations,t.searchOptions,t.includeUsers,t.includeSpaces,t.onlyRedactor,t.noRedactorSpace,t.onlyManager,(function(){return t.loadingSuggestions++}),(function(){t.loadingSuggestions--}))),t.previousSearchTerm=t.searchTerm}),400):this.items=[]},value:function(){this.emitSelectedValue(this.value),this.init()}},mounted:function(){var e=this;$("#"+this.id+" input").on("blur",(function(){e.$refs.selectAutoComplete.isFocused=!1})),this.autofocus&&window.setTimeout((function(){e.focus()}),200),this.init()},methods:{init:function(){var e=this;this.value&&this.value.length?this.value.forEach((function(t){t.profile&&(e.items=e.value)})):this.value&&this.value.profile&&(this.items=this.value)},emitSelectedValue:function(e){this.$emit("input",e)},canAddItem:function(e){return!e||!e.id||this.ignoreItems.indexOf(e.id)<0},filterIgnoredItems:function(e,t,n){return!(t&&n.toLowerCase().indexOf(t.toLowerCase())<0)&&(!this.ignoreItems||!this.ignoreItems.length||this.canAddItem(e))},focus:function(){this.$refs.selectAutoComplete.focus()},clear:function(){this.items=[],this.value=null,this.loadingSuggestions=0},remove:function(e){if(this.value)if(this.value.splice){var t=this.value.findIndex((function(t){return t.id===e.id}));t>=0&&this.value.splice(t,1)}else this.value=null;this.$emit("removeValue",e)}}},R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-flex",{attrs:{id:e.id}},[n("v-autocomplete",{ref:"selectAutoComplete",staticClass:"identitySuggester",class:e.autocompleteClass,attrs:{label:e.labels.label,placeholder:e.labels.placeholder,disabled:e.disabled,loading:e.loadingSuggestions>0,rules:e.rules,multiple:e.multiple,required:e.required&&!e.value,items:e.items,height:e.height,filter:e.filterIgnoredItems,"hide-no-data":e.hideNoData,"prepend-inner-icon":e.prependInnerIcon,"append-icon":"","menu-props":"closeOnClick, closeOnContentClick, maxHeight = 100","content-class":"identitySuggesterContent",width:"100%","max-width":"100%","item-text":"profile.fullName","item-value":"id","return-object":"","persistent-hint":"","hide-selected":"",chips:"","cache-items":"",dense:"",flat:""},on:{"update:search-input":function(t){e.searchTerm=t}},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.item,o=t.selected;return[r.profile?n("v-chip",{staticClass:"identitySuggesterItem",attrs:{"input-value":o,close:!e.disabled},on:{"click:close":function(t){return e.remove(r)}}},[n("v-avatar",{attrs:{left:""}},[n("v-img",{attrs:{src:r.profile.avatarUrl}})],1),e._v(" "),n("span",{staticClass:"text-truncate"},[e._v("\n          "+e._s(r.profile.external?r.profile.fullName.concat(" (").concat(e.$t("userAvatar.external.label")).concat(")"):r.profile.fullName)+"\n        ")])],1):e._e()]}},{key:"item",fn:function(t){return[t.item&&t.item.profile&&t.item.profile.avatarUrl?n("v-list-item-avatar",{attrs:{size:"20"}},[n("v-img",{attrs:{src:t.item.profile.avatarUrl}})],1):e._e(),e._v(" "),n("v-list-item-title",{staticClass:"text-truncate identitySuggestionMenuItemText",style:e.menuItemStyle,domProps:{textContent:e._s(t.item.profile.fullName)}})]}}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("template",{slot:"no-data"},[n("v-list-item",{staticClass:"pa-0"},[e.displaySearchPlaceHolder?n("v-list-item-title",{staticClass:"px-2",style:e.menuItemStyle},[e._v("\n          "+e._s(e.labels.searchPlaceholder)+"\n        ")]):e.labels.noDataLabel?n("v-list-item-title",{staticClass:"px-2",style:e.menuItemStyle},[e._v("\n          "+e._s(e.labels.noDataLabel)+"\n        ")]):e._e()],1)],1)],2)],1)};R._withStripped=!0;var j=Object(h.a)(A,R,[],!1,null,null,null);j.options.__file="src/main/webapp/vue-apps/common/components/ExoIdentitySuggester.vue";var L=j.exports,N={props:{value:{type:String,default:""},placeholder:{type:String,default:""},maxLength:{type:Number,default:-1},ckEditorType:{type:String,default:"activityContent"},suggestorTypeOfRelation:{type:String,default:"mention_activity_stream"},suggesterSpaceURL:{type:String,default:eXo.env.portal.spaceUrl},activityId:{type:String,default:null},templateParams:{type:Object,default:function(){return{}}},autofocus:{type:Boolean,default:!1}},data:function(){return{SMARTPHONE_LANDSCAPE_WIDTH:768,inputVal:null,editor:null}},computed:{buttonId:function(){return"btn_"+this.ckEditorType},editorReady:function(){return this.editor&&"ready"===this.editor.status},charsCount:function(){return this.inputVal&&this.$utils.htmlToText(this.inputVal).length||0},validLength:function(){return this.charsCount<=this.maxLength}},watch:{inputVal:function(e){this.editorReady&&this.$emit("input",e)},validLength:function(){this.$emit("validity-updated",this.validLength)},editorReady:function(){this.editorReady?this.$emit("ready"):this.$emit("unloaded")},value:function(e){this.editor||this.initCKEditor();var t=null;try{t=this.editor.getData()}catch(e){}this.installOembedOriginalMessage(t),e!==t&&(this.initCKEditorData(e||""),this.installOembedOriginalMessage(e))}},mounted:function(){this.initCKEditor(!0)},methods:{initCKEditor:function(e){if(this.inputVal=this.replaceWithSuggesterClass(this.value),this.editor=CKEDITOR.instances[this.ckEditorType],this.editor&&this.editor.destroy&&!this.ckEditorType.includes("editActivity")){if(!e)return this.initCKEditorData(this.value),void this.setEditorReady();this.editor.destroy(!0)}CKEDITOR.dtd.$removeEmpty.i=!1;var t="simpleLink,suggester,widget",n="image,maximize,resize",r=$(window).width();r>$(window).height()&&r<this.SMARTPHONE_LANDSCAPE_WIDTH&&(t="simpleLink"),this.templateParams?(CKEDITOR.plugins.addExternal("embedsemantic","/commons-extension/eXoPlugins/embedsemantic/","plugin.js"),t+=",embedsemantic"):n+=",embedsemantic,embedbase",CKEDITOR.basePath="/commons-extension/ckeditor/";var o=this;$(this.$refs.editor).ckeditor({customConfig:"/commons-extension/ckeditorCustom/config.js",extraPlugins:t,removePlugins:n,allowedContent:!0,enterMode:3,toolbar:[["Bold","Italic","BulletedList","NumberedList","Blockquote"]],typeOfRelation:this.suggestorTypeOfRelation,spaceURL:this.suggesterSpaceURL,activityId:this.activityId,autoGrow_onStartup:!1,autoGrow_maxHeight:300,on:{instanceReady:function(){o.editor=CKEDITOR.instances[o.ckEditorType],$(o.editor.document.$).find(".atwho-inserted").each((function(){$(this).on("click",".remove",(function(){$(this).closest("[data-atwho-at-query]").remove()}))})),o.setEditorReady(),o.autofocus&&window.setTimeout((function(){return o.setFocus()}),50)},embedHandleResponse:function(e){o.installOembed(e)},requestCanceled:function(){o.cleanupOembed()},change:function(e){var t=e.editor.getData();o.inputVal=t},destroy:function(){o.inputVal="",o.editor=null}}})},destroyCKEditor:function(){this.editor&&this.editor.destroy(!0)},replaceWithSuggesterClass:function(e){var t=$("<div class='temp'/>").html(e||"");return t.find('a[href*="/profile"]').each((function(){$(this).replaceWith((function(){return $("<span/>",{class:"atwho-inserted",html:'<span class="exo-mention">'+$(this).text()+'<a data-cke-survive href="#" class="remove"><i data-cke-survive class="uiIconClose uiIconLightGray"></i></a></span>'}).attr("data-atwho-at-query","@"+$(this).attr("href").substring($(this).attr("href").lastIndexOf("/")+1)).attr("data-atwho-at-value",$(this).attr("href").substring($(this).attr("href").lastIndexOf("/")+1)).attr("contenteditable","false")}))})),t.html()},initCKEditorData:function(e){this.inputVal=e&&this.replaceWithSuggesterClass(e)||"";try{this.editor&&this.editor.setData(this.inputVal)}catch(e){}},unload:function(){this.editor&&this.$set(this.editor,"status","not-ready")},setEditorReady:function(){var e=this;window.setTimeout((function(){e.$set(e.editor,"status","ready")}),200)},setFocus:function(){var e=this;this.editorReady&&window.setTimeout((function(){e.$nextTick().then((function(){return e.editor.focus()}))}),200)},getMessage:function(){var e=this.editor&&this.editor.getData();return e||""},installOembedOriginalMessage:function(e,t){if(t||e&&e.includes("<oembed")){if(e&&e.includes("<oembed")&&this.templateParams&&this.templateParams.link&&this.templateParams.default_title!==e){this.templateParams.default_title=e;var n=window.decodeURIComponent(this.templateParams.link);this.templateParams.comment=window.decodeURIComponent(e).replace("<oembed>"+n+"</oembed>","")}}else this.cleanupOembed()},installOembed:function(e){var t=this;if(this.templateParams&&e){var n=e.data&&e.data.data,r=n&&n.response;r?(this.templateParams.link=r.url||"-",this.templateParams.image="video"!==r.type&&r.thumbnail_url||"-",this.templateParams.html="video"===r.type&&r.html||"-",this.templateParams.title=r.title||"-",this.templateParams.description=r.description||"-",this.templateParams.previewHeight=r.thumbnail_height||"-",this.templateParams.previewWidth=r.thumbnail_width||"-",window.setTimeout((function(){t.installOembedOriginalMessage(t.message,!t.message||!t.message.includes("<oembed"))}),200)):this.cleanupOembed()}else e||this.cleanupOembed()},cleanupOembed:function(){this.templateParams&&(this.templateParams.image&&"-"!==this.templateParams.image||this.templateParams.html&&"-"!==this.templateParams.html)&&(this.templateParams.link="-",this.templateParams.html="-",this.templateParams.comment="-",this.templateParams.default_title="-",this.templateParams.image="-",this.templateParams.description="-",this.templateParams.title="-",this.templateParams.registeredKeysForProcessor="-")}}},U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"activityRichEditor"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.inputVal,expression:"inputVal"}],ref:"editor",staticClass:"textarea",attrs:{id:e.ckEditorType,placeholder:e.placeholder,cols:"30",rows:"10"},domProps:{value:e.inputVal},on:{input:function(t){t.target.composing||(e.inputVal=t.target.value)}}}),e._v(" "),e.editorReady?e._e():n("v-progress-circular",{staticClass:"loadingRing position-absolute",attrs:{width:3,indeterminate:""}}),e._v(" "),n("div",{staticClass:"activityCharsCount",class:e.validLength?"":"tooManyChars",attrs:{"v-show":e.editorReady,id:e.buttonId}},[e._v("\n    "+e._s(e.charsCount)+e._s(e.maxLength>-1?" / "+e.maxLength:"")+"\n    "),n("i",{staticClass:"uiIconMessageLength"})])],1)};U._withStripped=!0;var V=Object(h.a)(N,U,[],!1,null,null,null);V.options.__file="src/main/webapp/vue-apps/common/components/ExoActivityRichEditor.vue";var M=V.exports,B={props:{placeholder:{type:String,default:function(){return null}},prependIcon:{type:String,default:function(){return"uiIconDatePicker"}},periodType:{type:String,default:function(){return"date"}},minValue:{type:String,default:function(){return null}},maxValue:{type:String,default:function(){return null}},value:{type:String,default:function(){return null}},minValueErrorMessage:{type:String,default:function(){return null}},lang:{type:String,default:function(){return eXo.env.portal.language}},disabled:{type:Boolean,default:function(){return!1}},required:{type:Boolean,default:function(){return!1}},returnIso:{type:Boolean,default:function(){return!1}},top:{type:Boolean,default:function(){return!1}},left:{type:Boolean,default:function(){return!1}},format:{type:Object,default:function(){return{year:"numeric",month:"long",day:"numeric"}}},defaultValue:{type:Boolean,default:!0}},data:function(){return{id:"DatePicker"+parseInt(1e4*Math.random()),menuId:"DatePickerMenu"+parseInt(1e4*Math.random()),date:null,dateFormatted:null,dateValue:null,menu:!1}},computed:{minDate:function(){if(this.minValue){var e=this.$dateUtil.getDateObjectFromString(this.minValue,!0);return this.$dateUtil.getISODate(e)}return null},maxDate:function(){if(this.maxValue){var e=this.$dateUtil.getDateObjectFromString(this.maxValue,!0);return this.$dateUtil.getISODate(e)}return null}},watch:{value:function(e,t){t!==e&&this.computeDate()},disabled:function(){this.emitDateValue()},date:function(){this.emitDateValue()}},mounted:function(){var e=this;$(".datePickerComponent input").on("click",(function(t){t.target&&!$(t.target).parents("#"+e.id).length&&(e.menu=!1)})),$(document).on("click",(function(t){t.target&&!$(t.target).parents("."+e.menuId).length&&(e.menu=!1)})),this.computeDate()},methods:{emitDateValue:function(){var e=this.date&&new Date(this.date)||null;this.disabled?this.dateValue=null:this.returnIso?this.dateValue=this.date:this.dateValue=e&&e.getTime()||null,this.dateValue?this.dateFormatted=this.$dateUtil.formatDateObjectToDisplay(e,this.format,this.lang):this.dateFormatted=null,this.$emit("input",this.dateValue)},computeDate:function(){if(this.value&&String(this.value).trim()){var e=this.$dateUtil.getDateObjectFromString(String(this.value).trim(),!0);this.date=this.$dateUtil.getISODate(e)}else this.defaultValue?this.date=this.$dateUtil.getISODate(new Date):this.date=null}}},z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-flex",{staticClass:"datePickerComponent",attrs:{id:e.id}},[n("v-menu",{ref:"selectDateMenu",staticClass:"datePickerMenu",attrs:{"content-class":e.menuId,"close-on-content-click":!1,disabled:e.disabled,top:e.top,left:e.left,transition:"scale-transition",attach:"","allow-overflow":"","offset-y":"",eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return n("input",e._g({directives:[{name:"model",rawName:"v-model",value:e.dateFormatted,expression:"dateFormatted"}],staticClass:"ignore-vuetify-classes datePickerText flex-grow-0",attrs:{disabled:e.disabled,placeholder:e.placeholder,required:e.required,readonly:"",type:"text"},domProps:{value:e.dateFormatted},on:{input:function(t){t.target.composing||(e.dateFormatted=t.target.value)}}},r))}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e._v(" "),n("v-date-picker",{staticClass:"border-box-sizing",attrs:{"first-day-of-week":1,type:e.periodType,locale:e.lang,min:e.minDate,max:e.maxDate},on:{input:function(t){e.menu=!1}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[e.$slots.footer?[e._t("footer")]:e._e()],2)],1)],1)};z._withStripped=!0;var G=Object(h.a)(B,z,[],!1,null,null,null);G.options.__file="src/main/webapp/vue-apps/common/components/DatePicker.vue";var q=G.exports,F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H={props:{value:{type:Object,default:function(){return new Date}},min:{type:Object,default:null},intervalMinutes:{type:Number,default:15},lang:{type:String,default:function(){return eXo.env.portal.language}}},data:function(){return{timeFormat:{hour:"2-digit",minute:"2-digit"},timeOptions:[],timeOptionsByValue:{},timeValue:"00:00",valueType:"date"}},computed:{filteredTimeOptions:function(){return this.timeOptions&&this.timeOptions.filter((function(e){return e.enabled}))||[]},minTimeInMinutes:function(){if(!this.min)return 0;if("string"==typeof this.min&&5===this.min.length)return 60*Number(this.min.substring(0,2))+Number(this.min.substring(3,5));if("string"==typeof this.min&&this.min.length>5||"number"==typeof this.min||"object"===F(this.min)&&this.min.getTime){var e=new Date(this.min);if(!Number.isNaN(e.getTime()))return 60*e.getHours()+e.getMinutes()}return 0},minTimeValue:function(){var e=parseInt(this.minTimeInMinutes/60),t=this.minTimeInMinutes%60;return this.getTimeValue(e,t)}},watch:{minTimeValue:function(){this.computeOptions(),this.computeTimeValue()},value:function(){this.computeSelectedValue()},timeValue:function(e,t){if(e!==t)if(this.timeValue){var n=this.timeOptionsByValue[this.timeValue];if("date"===this.valueType){var r=new Date(this.value);r.setHours(n.hours),r.setMinutes(n.minutes),r.setSeconds(0),this.$emit("input",r)}else if("time"===this.valueType)this.$emit("input",this.timeValue);else if("datetime"===this.valueType){var o=new Date(this.value);o.setHours(n.hours),o.setMinutes(n.minutes),o.setSeconds(0),this.$emit("input",o.toLocaleString(this.lang))}else if("number"===this.valueType){var i=new Date(this.value);i.setHours(n.hours),i.setMinutes(n.minutes),i.setSeconds(0),this.$emit("input",i.getTime())}}else this.$emit("input",null)}},mounted:function(){this.computeOptions(),this.computeSelectedValue()},methods:{computeOptions:function(){this.timeOptions=[];for(var e=0;e<24;e++)for(var t=0;t<60;t++){var n=60*e+t;if(n%this.intervalMinutes==0){var r={value:this.getTimeValue(e,t),text:this.getTimeLabel(e,t),hours:e,minutes:t,enabled:this.minTimeInMinutes<=n};this.timeOptions.push(r),this.timeOptionsByValue[r.value]=r}}},computeSelectedValue:function(){this.value&&("string"==typeof this.value&&5===this.value.length?(this.valueType="time",this.timeValue=this.value):"string"==typeof this.value&&this.value.length>5?(this.valueType="datetime",this.timeValue=this.getTimeValueByDate(new Date(this.value))):"object"===F(this.value)&&this.value.getTime?(this.valueType="date",this.timeValue=this.getTimeValueByDate(this.value)):"number"==typeof this.value&&(this.valueType="number",this.timeValue=this.getTimeValueByDate(new Date(this.value)))),this.timeValue||(this.timeValue=this.getTimeValueByDate(new Date)),this.computeTimeValue()},computeTimeValue:function(){var e=this.timeOptionsByValue[this.timeValue];e&&!e.enabled&&(this.timeValue=this.minTimeValue),this.timeValue||(this.timeValue=this.minTimeValue)},getTimeValue:function(e,t){var n=new Date(2003,11,20,e,t);return this.getTimeValueByDate(n)},getTimeValueByDate:function(e){var t=parseInt((60*e.getHours()+e.getMinutes())/this.intervalMinutes)*this.intervalMinutes,n=t%60,r=parseInt(t/60);return e.setHours(r),e.setMinutes(n),this.$dateUtil.formatDateObjectToDisplay(e,this.timeFormat,"fr")},getTimeLabel:function(e,t){var n=new Date(2003,11,20,e,t);return this.$dateUtil.formatDateObjectToDisplay(n,this.timeFormat,this.lang)}}},J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select",{directives:[{name:"model",rawName:"v-model",value:e.timeValue,expression:"timeValue"}],staticClass:"width-auto my-auto ms-4 ignore-vuetify-classes",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.timeValue=t.target.multiple?n:n[0]}}},e._l(e.filteredTimeOptions,(function(t){return n("option",{key:t.value,domProps:{value:t.value}},[e._v("\n    "+e._s(t.text)+"\n  ")])})),0)};J._withStripped=!0;var W=Object(h.a)(H,J,[],!1,null,null,null);W.options.__file="src/main/webapp/vue-apps/common/components/TimePicker.vue";var K=W.exports,Y={props:{value:{type:Number,default:function(){return 0}},lang:{type:String,default:function(){return eXo.env.portal.language}},format:{type:Object,default:function(){return{year:"numeric",month:"long",day:"numeric"}}}},computed:{displayedDate:function(){return this.value&&this.$dateUtil.formatDateObjectToDisplay(new Date(this.value),this.format,this.lang)||""}}},Z=function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v(this._s(this.displayedDate))])};Z._withStripped=!0;var Q=Object(h.a)(Y,Z,[],!1,null,null,null);Q.options.__file="src/main/webapp/vue-apps/common/components/DateFormat.vue";var ee=Q.exports,te={props:{value:{type:Object,default:function(){return 0}},label:{type:String,default:null},short:{type:Boolean,default:!1}},computed:{date:function(){return this.value&&new Date(this.value)},relativeDateLabelKey:function(){return this.short?this.date&&this.$dateUtil.getShortRelativeTimeLabelKey(this.date)||"":this.date&&this.$dateUtil.getRelativeTimeLabelKey(this.date)||""},relativeDateLabelValue:function(){return this.short?this.date&&this.$dateUtil.getShortRelativeTimeValue(this.date)||1:this.date&&this.$dateUtil.getRelativeTimeValue(this.date)||1},relativeDateLabel:function(){var e=this.date&&this.$t(this.relativeDateLabelKey,{0:this.relativeDateLabelValue})||"";return this.label?this.$t(this.label,{0:e}):e}}},ne=function(){var e=this.$createElement;return(this._self._c||e)("span",[this._v(this._s(this.relativeDateLabel))])};ne._withStripped=!0;var re=Object(h.a)(te,ne,[],!1,null,null,null);re.options.__file="src/main/webapp/vue-apps/common/components/RelativeDateFormat.vue";var oe=re.exports,ie={props:{title:{type:String,default:""},loading:{type:Boolean,default:function(){return!1}},okLabel:{type:String,default:function(){return"ok"}},hideActions:{type:Boolean,default:function(){return!1}},persistent:{type:Boolean,default:function(){return!1}},width:{type:String,default:function(){return"500px"}}},data:function(){return{dialog:!1}},watch:{dialog:function(){this.dialog?(this.$emit("dialog-opened"),document.dispatchEvent(new CustomEvent("modalOpened"))):(this.$emit("dialog-closed"),document.dispatchEvent(new CustomEvent("modalClosed")))}},created:function(){var e=this;$(document).on("keydown",(function(t){"Escape"===t.key&&(e.dialog=!1)}))},methods:{open:function(){this.dialog=!0},close:function(){this.dialog=!1}}},ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:e.width,persistent:e.persistent,"content-class":"uiPopup","max-width":"100vw"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",{staticClass:"elevation-12"},[n("div",{staticClass:"ignore-vuetify-classes popupHeader ClearFix"},[n("a",{staticClass:"uiIconClose pull-right",attrs:{"aria-hidden":"true"},on:{click:e.close}}),e._v(" "),n("span",{staticClass:"ignore-vuetify-classes PopupTitle popupTitle text-truncate",domProps:{innerHTML:e._s(e.title)}})]),e._v(" "),e._t("default"),e._v(" "),e.hideActions?e._e():n("v-card-actions",[n("v-spacer"),e._v(" "),e.okLabel?n("button",{staticClass:"ignore-vuetify-classes btn btn-primary me-2",attrs:{disabled:e.loading,loading:e.loading},on:{click:e.close}},[e._v("\n        "+e._s(e.okLabel)+"\n      ")]):e._e(),e._v(" "),n("v-spacer")],1)],2)],1)};ae._withStripped=!0;var se=Object(h.a)(ie,ae,[],!1,null,null,null);se.options.__file="src/main/webapp/vue-apps/common/components/ExoModal.vue";var le=se.exports,ce={props:{value:{type:String,default:""},placeholder:{type:String,default:""},maxLength:{type:Number,default:function(){return 0}}},data:function(){return{rules:[]}},computed:{limitMessageLabel:function(){return this.$t("textarea.limitMessage").replace("{0}",this.maxLength)}},watch:{value:function(){this.emitText()}},created:function(){var e=this;this.rules=[function(t){return!t||t.length<=e.maxLength||e.limitMessageLabel}]},methods:{counterValue:function(e){return(e&&e.length||0)+" / "+this.maxLength},emitText:function(){this.$emit("input",this.value)}}},ue=function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-textarea",{staticClass:"extended-textarea",attrs:{rules:e.rules,"counter-value":e.counterValue,placeholder:e.placeholder,counter:"","auto-grow":""},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})};ue._withStripped=!0;var de=Object(h.a)(ce,ue,[],!1,null,null,null);de.options.__file="src/main/webapp/vue-apps/common/components/ExtendedTextarea.vue";var pe=de.exports,fe={props:{alert:{type:Object,default:null}},data:function(){return{displayAlert:!0}},computed:{alertMessage:function(){return this.alert&&this.alert.message},alertType:function(){return this.alert&&this.alert.type},isMobile:function(){return this.$vuetify&&this.$vuetify.breakpoint&&"xs"===this.$vuetify.breakpoint.name},maxWidth:function(){return this.isMobile?"100vw":"50vw"}},watch:{displayAlert:function(){this.displayAlert||this.$emit("dismissed")},alert:function(){this.alert?this.showAlert():this.$emit("dismissed")}},created:function(){var e=this;window.setTimeout((function(){return e.displayAlert=!1}),5e3)},methods:{showAlert:function(){var e=this;this.displayAlert=!0,window.setTimeout((function(){return e.$emit("dismissed")}),5e3)}}},he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-alert",{staticClass:"white",attrs:{type:e.alertType,"max-width":e.maxWidth,border:"left",elevation:"2",dismissible:"","colored-border":"",outlined:""},scopedSlots:e._u([{key:"close",fn:function(t){var r=t.toggle;return n("v-btn",{attrs:{icon:"",small:"",light:""},on:{click:r}},[n("v-icon",[e._v("close")])],1)}}]),model:{value:e.displayAlert,callback:function(t){e.displayAlert=t},expression:"displayAlert"}},[n("span",{staticClass:"text-color"},[e._v("\n    "+e._s(e.alertMessage)+"\n  ")]),e._v(" "),e.alert&&e.alert.click?n("v-btn",{staticClass:"primary--text",attrs:{text:""},on:{click:e.alert.click}},[e._v("\n    "+e._s(e.alert.clickMessage)+"\n  ")]):e._e()],1)};he._withStripped=!0;var me=Object(h.a)(fe,he,[],!1,null,null,null);me.options.__file="src/main/webapp/vue-apps/common/components/ExoNotificationAlert.vue";var ve=me.exports,ge={render:function(e){return e(this.element||"div",{attrs:{id:this.id,class:this.elementClass||""}},[e(this.component.componentOptions.vueComponent,{props:this.params})])},props:{component:{type:Object,default:null},params:{type:Object,default:null},element:{type:String,default:function(){return null}},elementClass:{type:String,default:function(){return""}}},data:function(){return{randomId:String(parseInt(1e5*Math.random())),mounted:!1}},computed:{id:function(){return"Ext"+this.component.componentName+"-"+this.randomId}}},ye=Object(h.a)(ge,void 0,void 0,!1,null,null,null);ye.options.__file="src/main/webapp/vue-apps/common/components/ExtensionRegistryComponent.vue";var we=ye.exports,be={props:{name:{type:String,default:null},type:{type:String,default:null},parentElement:{type:Object,default:function(){return null}},element:{type:Object,default:function(){return null}},elementClass:{type:Object,default:function(){return""}},params:{type:Object,default:null}},data:function(){return{components:[]}},computed:{isEnabled:function(){return this.components.length}},created:function(){var e=this;document.addEventListener("component-"+this.name+"-"+this.type+"-updated",(function(t){var n=t&&t.detail;if(n){var r=e.components.slice();e.registerComponent(n,r),e.components=r}}));var t=extensionRegistry.loadComponents(this.name),n=[];t.forEach((function(t){e.registerComponent(t,n)})),this.components=n},methods:{registerComponent:function(e,t){var n=this;if(e.componentOptions.init){var r=e.componentOptions.init(this.params);if(r.then)return r.then((function(){return n.addComponent(e,t)}))}this.addComponent(e,t)},addComponent:function(e,t){if(!e.componentOptions.isEnabled||e.componentOptions.isEnabled(this.params)){var n=t.findIndex((function(t){return t.componentOptions.id===e.componentOptions.id}));n>=0?t.splice(n,1,e):t.push(e),t.sort(this.sort)}},sort:function(e,t){return(e.componentOptions.rank||0)-(t.componentOptions.rank||0)}}},xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"ul"===e.parentElement&&e.isEnabled?n("ul",e._l(e.components,(function(t){return n("extension-registry-component",{key:t.componentOptions.id||t.componentOptions.componentName,attrs:{component:t,element:e.element,"element-class":e.elementClass,params:e.params}})})),1):"li"===e.parentElement&&e.isEnabled?n("li",e._l(e.components,(function(t){return n("extension-registry-component",{key:t.componentOptions.id||t.componentOptions.componentName,attrs:{component:t,element:e.element,"element-class":e.elementClass,params:e.params}})})),1):"span"===e.parentElement&&e.isEnabled?n("span",e._l(e.components,(function(t){return n("extension-registry-component",{key:t.componentOptions.id||t.componentOptions.componentName,attrs:{component:t,element:e.element,"element-class":e.elementClass,params:e.params}})})),1):"a"===e.parentElement&&e.isEnabled?n("a",e._l(e.components,(function(t){return n("extension-registry-component",{key:t.componentOptions.id||t.componentOptions.componentName,attrs:{component:t,element:e.element,"element-class":e.elementClass,params:e.params}})})),1):e.isEnabled?n("div",e._l(e.components,(function(t){return n("extension-registry-component",{key:t.componentOptions.id||t.componentOptions.componentName,attrs:{component:t,element:e.element,"element-class":e.elementClass,params:e.params}})})),1):e._e()};xe._withStripped=!0;var Se=Object(h.a)(be,xe,[],!1,null,null,null);Se.options.__file="src/main/webapp/vue-apps/common/components/ExtensionRegistryComponents.vue";var _e=Se.exports,Ee={render:function(e){return e(this.element||"div",this.$slots.default)},props:{element:{type:String,default:function(){return null}}}},Te=Object(h.a)(Ee,void 0,void 0,!1,null,null,null);Te.options.__file="src/main/webapp/vue-apps/common/components/DynamicHTMLElement.vue";var Ce=Te.exports,Ie={model:{prop:"selectedItems",event:"change"},props:{options:{type:Object,default:function(){return{}}},sourceProviders:{type:Array,default:function(){return[]}},selectedItems:{type:Array,default:function(){return[]}},boundGroups:{type:Array,default:function(){return[]}},secondDrawerSelectedGroups:{type:Array,default:function(){return[]}}},watch:{selectedItems:function(){this.$emit("change",this.selectedItems),this.bindSelectedItems()}},mounted:function(){var e=this,t={type:"tag",sourceProviders:[],plugins:["remove_button"],providers:{},onChange:function(t){e.selectedItems=t.split(",")}};this.sourceProviders.forEach((function(e){"function"==typeof e?(t.providers[e.name]=e,t.sourceProviders.push(e.name)):t.sourceProviders.push(e)}));var n=Object.assign({},t,this.options);$(this.$el).suggester(n),!0===n.fillSelectize&&this.fillSelectize()},methods:{bindSelectedItems:function(){var e=this,t=$(this.$el)[0].selectize;1!==this.selectedItems.length||this.selectedItems[0].startsWith("/")||this.selectedItems.shift();var n=[],r=[];t.items.forEach((function(t){e.selectedItems.includes(t)||n.push(t)})),n.forEach((function(e){t.removeItem(e,!0)})),this.selectedItems.forEach((function(e){e&&e.startsWith("/")&&!t.items.includes(e)&&r.push(e)})),r&&r.length>0&&r.forEach((function(t){e.addItem(t)}))},fillSelectize:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.boundGroups[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value,a=$(this.$el)[0].selectize;a.options[""+i]={avatarUrl:null,text:i,value:i,type:"group"},a.addItem(i)}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}},addItem:function(e){if(e&&!this.boundGroups.map((function(e){return e.group})).includes(e)){var t=$(this.$el)[0].selectize;if(!t.options[""+e]){var n=this.getGroup(e);t.options[""+e]={avatarUrl:null,text:n.name,value:n.id,type:"group"}}t.addItem(e)}},getGroup:function(e){return this.secondDrawerSelectedGroups.filter((function(t){return t.id===e}))[0]}}},Xe=function(){var e=this.$createElement;return(this._self._c||e)("input",{attrs:{type:"text"}})};Xe._withStripped=!0;var Pe=Object(h.a)(Ie,Xe,[],!1,null,null,null);Pe.options.__file="src/main/webapp/vue-apps/common/components/ExoGroupSuggester.vue";var Oe=Pe.exports,$e={props:{parentClass:{type:Object,default:null}},data:function(){return{scrollElement:null,displayLeftArrow:!1,displayRightArrow:!1,childScrollIndex:0,visibleChildrenPerPage:1,computing:!1}},mounted:function(){var e=this;this.scrollElement=this.$el&&this.$el.children&&this.$el.children.length>1&&this.$el.children[1],window.setTimeout((function(){e.computeProperties()}),500),window.onresize=this.computeProperties},methods:{stopPropagation:function(e){e&&e.stopPropagation()},moveRight:function(){var e=this.scrollElement.firstChild.children,t=this.childScrollIndex+this.visibleChildrenPerPage;this.childScrollIndex=t>=e.length?e.length-1:t,this.scrollElement.scrollTo({left:e[this.childScrollIndex].offsetLeft-8,behavior:"smooth"})},moveLeft:function(){var e=this.scrollElement.firstChild.children,t=this.childScrollIndex-this.visibleChildrenPerPage;this.childScrollIndex=t<0?0:t,this.scrollElement.scrollTo({left:e[this.childScrollIndex].offsetLeft-8,behavior:"smooth"})},computeProperties:function(){var e=this;this.computing||(this.computing=!0,window.setTimeout((function(){var t=e.scrollElement.offsetWidth,n=e.scrollElement.firstChild.offsetWidth,r=e.scrollElement.firstChild.children,o=r.length;e.visibleChildrenPerPage=parseInt(t*o/n),e.displayLeftArrow=e.scrollElement&&o&&e.scrollElement.scrollLeft>r[0].offsetLeft,e.displayRightArrow=e.scrollElement&&e.scrollElement.scrollWidth-e.scrollElement.offsetWidth-e.scrollElement.scrollLeft>5,e.computing=!1}),200))}}},De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"carousel-top-parent overflow-hidden position-relative"},[n("v-fab-transition",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.displayLeftArrow,expression:"displayLeftArrow"}],staticClass:"absolute-vertical-center",attrs:{color:"while",width:"23px",height:"23px",fab:"",dark:"",absolute:"",left:"","x-small":""},on:{click:e.moveLeft}},[n("v-icon",{attrs:{size:"25"}},[e._v("fa-arrow-circle-left")])],1)],1),e._v(" "),n("v-card",{staticClass:"carousel-middle-parent scrollbar-width-none d-flex px-0 pb-4 pt-2 overflow-x-scroll",attrs:{flat:""},on:{scroll:e.computeProperties}},[n("div",{staticClass:"carousel-last-parent d-flex ma-auto",class:e.parentClass},[e._t("default")],2)]),e._v(" "),n("v-fab-transition",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.displayRightArrow,expression:"displayRightArrow"}],staticClass:"absolute-vertical-center",attrs:{color:"while",width:"23px",height:"23px",fab:"",dark:"",absolute:"",right:"","x-small":""},on:{click:e.moveRight}},[n("v-icon",{attrs:{size:"25"}},[e._v("fa-arrow-circle-right")])],1)],1)],1)};De._withStripped=!0;var ke=Object(h.a)($e,De,[],!1,null,null,null);ke.options.__file="src/main/webapp/vue-apps/common/components/CardCarousel.vue";var Ae=ke.exports,Re={data:function(){return{openedModals:0,openedDrawers:0,uiPortalApplicationElement:null}},computed:{overlay:function(){return this.openedDrawers&&!this.openedModals}},mounted:function(){document.addEventListener("drawerOpened",this.showOverlay),document.addEventListener("drawerClosed",this.hideOverlay),document.addEventListener("modalOpened",this.modalOpened),document.addEventListener("modalClosed",this.modalClosed),document.onkeydown=this.closeDisplayedDrawer,document.querySelector("#drawers-overlay").onclick=this.closeDisplayedDrawerNoEvent,this.uiPortalApplicationElement=document.querySelector("#UIPortalApplication")},methods:{closeDisplayedDrawerNoEvent:function(){this.closeDisplayedDrawer()},closeDisplayedDrawer:function(e){!this.openedDrawers||e&&"Escape"!==e.key||document.dispatchEvent(new CustomEvent("closeDisplayedDrawer"))},showOverlay:function(){var e=this;this.uiPortalApplicationElement.classList.add("decrease-z-index"),window.setTimeout((function(){e.openedDrawers+=1}),10);var t=document.querySelector("#searchDialog");t&&(t.style.zIndex="revert")},hideOverlay:function(){this.openedDrawers>0&&(this.openedDrawers-=1),0===this.openedDrawers&&this.uiPortalApplicationElement.classList.remove("decrease-z-index");var e=document.querySelector("#searchDialog");e&&(e.style.zIndex="")},modalOpened:function(){this.openedModals+=1},modalClosed:function(){this.openedModals>0&&(this.openedModals-=1)}}},je=function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",[t("v-fade-transition",[t("v-overlay",{directives:[{name:"show",rawName:"v-show",value:this.overlay,expression:"overlay"}],attrs:{id:"drawers-overlay",absolute:""}})],1)],1)};je._withStripped=!0;var Le=Object(h.a)(Re,je,[],!1,null,null,null);Le.options.__file="src/main/webapp/vue-apps/common/components/DrawersOverlay.vue";var Ne=Le.exports,Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("exo-drawer",{ref:"activityShareDrawer",attrs:{right:""},on:{opened:function(t){e.opened=!0},closed:function(t){e.opened=!1}}},[n("template",{slot:"title"},[e._v("\n    "+e._s(e.$t("UIActivity.share.drawer.popupTitle"))+"\n  ")]),e._v(" "),n("template",{slot:"content"},[e.activityId?n("v-form",{ref:"activityShareFrom",staticClass:"flex mx-4",attrs:{flat:""}},[n("div",{staticClass:"d-flex flex-column flex-grow-1"},[n("div",{staticClass:"d-flex flex-row"},[n("span",{staticClass:"mt-4 mb-2"},[e._v(e._s(e.$t("UIActivity.share.shareInSpaces"))+" ")])]),e._v(" "),n("div",{staticClass:"d-flex flex-row flex-grow-1 activitySpaceSuggester"},[n("exo-identity-suggester",{ref:"activitySpaceSuggester",staticClass:"space-suggester activitySpaceAutocomplete",attrs:{labels:e.spaceSuggesterLabels,"include-users":!1,width:220,name:"activitySpaceAutocomplete","include-spaces":"",multiple:"","only-redactor":"","only-manager":"",autofocus:""},model:{value:e.spaces,callback:function(t){e.spaces=t},expression:"spaces"}})],1),e._v(" "),n("div",{staticClass:"d-flex flex-row"},[n("exo-activity-rich-editor",{ref:"activityShareMessage",staticClass:"flex",attrs:{"template-params":e.templateParams,"max-length":e.MESSAGE_MAX_LENGTH,placeholder:e.$t("UIActivity.share.sharedActivityPlaceholder"),"ck-editor-type":"activityShare"},on:{"validity-updated":function(t){e.validInput=t}},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._v(" "),n("div",{staticClass:"d-flex flex-row mt-4"},[n("v-icon",{staticClass:"warning--text"},[e._v("warning")]),e._v(" "),n("span",{staticClass:"ms-2 grey--text"},[e._v("\n            "+e._s(e.$t("UIActivity.share.warnMessage"))+"\n          ")])],1)])]):e._e()],1),e._v(" "),n("template",{slot:"footer"},[n("div",{staticClass:"d-flex justify-end"},[n("v-btn",{staticClass:"btn me-2",on:{click:e.close}},[e._v("\n        "+e._s(e.$t("Confirmation.label.Cancel"))+"\n      ")]),e._v(" "),n("v-btn",{staticClass:"btn btn-primary me-2",attrs:{loading:e.sharing,disabled:e.buttonDisabled},on:{click:e.shareActivity}},[e._v("\n        "+e._s(e.$t("UIActivity.share"))+"\n      ")])],1)])],2)};Ue._withStripped=!0;var Ve=Object(h.a)({data:function(){return{MESSAGE_MAX_LENGTH:1250,opened:!1,sharing:!1,validInput:!0,description:"",activityId:null,spaces:[]}},computed:{buttonDisabled:function(){return!this.activityId||!this.validInput||this.sharing||!this.spaces||!this.spaces.filter((function(e){return e})).length},spaceSuggesterLabels:function(){return{searchPlaceholder:this.$t("UIActivity.share.spaces.searchPlaceholder"),placeholder:this.$t("UIActivity.share.spaces.placeholder"),noDataLabel:this.$t("UIActivity.share.spaces.noDataLabel")}}},created:function(){this.$root.$on("activity-share-drawer-open",this.open)},methods:{clear:function(){this.activityId=null,this.spaces=[],this.templateParams={},this.description="",this.sharing=!1},open:function(e){this.activityId=e,this.activityId&&this.$refs.activityShareDrawer.open()},close:function(){this.$refs.activityShareDrawer.close()},shareActivity:function(){var e=this,t=this.spaces.map((function(e){return e.remoteId}));this.sharing=!0,this.$activityService.shareActivity(this.activityId,this.description,this.templateParams,t).then((function(){e.$root.$emit("activity-shared",e.activityId,e.spaces.map((function(e){return{prettyName:e.remoteId,displayName:e&&e.profile&&e.profile.fullName,avatarUrl:e&&e.profile&&e.profile.avatarUrl}}))),e.close(),e.clear()})).finally((function(){return e.sharing=!1}))}}},Ue,[],!1,null,null,null);Ve.options.__file="src/main/webapp/vue-apps/common/components/ActivityShareDrawer.vue";var Me={"card-carousel":Ae,"exo-user-avatars-list":E,"exo-user-avatar":X,"exo-space-avatar":k,"exo-drawer":v,"activity-share-drawer":Ve.exports,"drawers-overlay":Ne,"exo-confirm-dialog":b,"exo-identity-suggester":L,"exo-activity-rich-editor":M,"date-picker":q,"time-picker":K,"date-format":ee,"relative-date-format":oe,"exo-modal":le,"extended-textarea":pe,"exo-notification-alert":ve,"extension-registry-component":we,"extension-registry-components":_e,"dynamic-html-element":Ce,"exo-group-suggester":Oe};for(var Be in Me)Vue.component(Be,Me[Be]);function ze(e,t){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/users/"+e+"?expand="+(t||""),{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Ge(){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/users/isSuperUser",{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function qe(){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/users/isDelegatedAdministrator",{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Fe(){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/users/isSynchronizedUserAllowedToChangePassword",{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function He(e){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/users/email/"+e,{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Je(e,t,n,r){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/users?q="+(e||"")+"&offset="+(t||0)+"&limit="+(n||0)+"&expand="+(r||"")+"&returnSize=true",{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function We(e,t,n,r){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/users?q="+(e||"")+"&offset="+(t||0)+"&limit="+(n||0)+"&status="+(r||"ENABLED")+"&returnSize=true",{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Ke(e,t,n,r){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/users/"+eXo.env.portal.userName+"/connections?q="+(e||"")+"&offset="+(t||0)+"&limit="+(n||0)+"&expand="+(r||"")+"&returnSize=true",{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Ye(e,t,n){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/users/connections/invitations?offset="+(e||0)+"&limit="+(t||0)+"&expand="+(n||"")+"&returnSize=true",{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Ze(e,t,n){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/users/connections/pending?offset="+(e||0)+"&limit="+(t||0)+"&expand="+(n||"")+"&returnSize=true",{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Qe(){var e=sessionStorage&&sessionStorage.getItem("Suggestions_Users_"+eXo.env.server.sessionId);return e?Promise.resolve(JSON.parse(e)):fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/homepage/intranet/people/contacts/suggestions",{credentials:"include"}).then((function(e){return e&&e.ok?e.json():e.text().then((function(e){throw new Error(e)}))})).then((function(e){if(sessionStorage&&e)try{sessionStorage.setItem("Suggestions_Users_"+eXo.env.server.sessionId,JSON.stringify(e))}catch(e){}return e}))}function et(e){return sessionStorage&&sessionStorage.removeItem("Suggestions_Users_"+eXo.env.server.sessionId),fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/homepage/intranet/people/contacts/connect/"+e,{method:"GET",credentials:"include"}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function tt(e){sessionStorage&&sessionStorage.removeItem("Suggestions_Users_"+eXo.env.server.sessionId);var t={sender:eXo.env.portal.userName,receiver:e,status:"IGNORED"};return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/usersRelationships/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}).then((function(e){return e&&e.ok?e.json():e.text().then((function(e){throw new Error(e)}))}))}function nt(e){return sessionStorage&&sessionStorage.removeItem("Suggestions_Users_"+eXo.env.server.sessionId),fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/usersRelationships",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({sender:eXo.env.portal.userName,receiver:e,status:"pending"})}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function rt(e){return sessionStorage&&sessionStorage.removeItem("Suggestions_Users_"+eXo.env.server.sessionId),fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/usersRelationships",{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({sender:e,receiver:eXo.env.portal.userName,status:"confirmed"})}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function ot(e){return sessionStorage&&sessionStorage.removeItem("Suggestions_Users_"+eXo.env.server.sessionId),fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/usersRelationships/"+eXo.env.portal.userName+"/"+e,{method:"DELETE",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function it(e,t,n){var r=new FormData;return r.append("name",t),r.append("value",n),fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/users/"+e,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(r).toString()}).then((function(e){if(!e||!e.ok)return e.text()})).then((function(e){if(e)throw new Error(e)}))}function at(e,t,n){var r={};for(var o in n)r[n[o]]=t[n[o]];return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/users/"+e+"/profile",{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){if(!e||!e.ok)return e.text()})).then((function(e){if(e)throw new Error(e)}))}function st(e,t,n){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/users/"+e+"/changePassword",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"currentPassword="+t+"&newPassword="+n}).then((function(e){if(!e||!e.ok)return e.text()})).then((function(e){if(e)throw new Error(e)}))}function lt(e){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/users/csv",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"uploadId="+e}).then((function(e){if(!e||!e.ok)return e.text()})).then((function(e){if(e)throw new Error(e)}))}function ct(e){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/users/csv",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"uploadId="+e+"&progress=true"}).then((function(e){return e&&e.ok?e.json():e.text()})).then((function(e){if("string"==typeof e)throw new Error(e);return e}))}function ut(e){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/users/csv",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"uploadId="+e+"&clean=true"}).then((function(e){return e&&e.ok?e.json():e.text()})).then((function(e){if("string"==typeof e)throw new Error(e);return e}))}function dt(e,t){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/users/bulk/"+e,{headers:{"Content-Type":"application/json"},credentials:"include",method:"PATCH",body:JSON.stringify(t)}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Error when updating users")}))}document.addEventListener("readystatechange",(function(e){"interactive"===e.target.readyState?(eXo.developing&&console.warn('Document "interactive" loading started, load deferred applications'),eXo.env.portal.onLoadCalled=!0,eXo.env.portal.onLoad()):"complete"===e.target.readyState&&(eXo.env.portal.onLoadCalled||(eXo.env.portal.onLoadCalled=!0,eXo.env.portal.onLoad()))}),!1),Vue.prototype.$applicationLoaded=function(){this.$root.$emit("application-loaded"),document.dispatchEvent(new CustomEvent("vue-app-loading-end",{detail:{appName:this.appName,time:Date.now()}}))},Vue.createApp=function(e,t,n){var r="string"==typeof t?document.querySelector(t):t;if(r){e.data||(e.data={}),e.data.appName=n||r.id,document.dispatchEvent(new CustomEvent("vue-app-loading-start",{detail:{appName:e.data.appName,time:Date.now()}}));var o=new Vue(e);return o.$mount(r),o}console.warn("Can't mount "+t+" application because DOM element doesn't exist'")},Vue.startApp=function(e,t,n){window.require([e],(function(e){t&&e[t](n)}))},Vue.directive("cacheable",{bind:function(e,t,n){var r=e.id,o=t&&t.value&&t.value.cacheId||r,i=function(){navigator.serviceWorker&&window.caches&&window.caches.open("portal-pwa-resources-dom").then((function(e){e&&window.setTimeout((function(){var t=n.componentInstance.$root.$el.innerHTML.replaceAll("<input ","<input disabled ").replaceAll("<button ","<button disabled ").replaceAll("v-btn ","v-btn v-btn--disabled ").replaceAll("<select ","<select disabled ").replaceAll("<textarea ","<textarea disabled ").replaceAll("v-navigation-drawer--open","v-navigation-drawer--open hidden").replaceAll("v-alert ","v-alert hidden ").replaceAll("v-menu ","v-menu hidden ").replaceAll("v-overlay--active","v-overlay--active hidden").replaceAll("v-application--wrap","flex app-cache-loading "+o+"-cache-loading");n.componentInstance.$root.$el.offsetHeight&&n.componentInstance.$root.$el.offsetWidth?e.put("/dom-cache?id="+o,new Response($('\n                    <div>\n                      <div class="flex position-relative v-application--wrap">\n                        <div role="progressbar" aria-valuemin="0" aria-valuemax="100" class="v-progress-linear v-progress-linear--rounded theme--light app-cached-content '+o+'-cached-content" style="height: 1px; position: absolute; z-index: 1">\n                          <div class="v-progress-linear__indeterminate v-progress-linear__indeterminate--active">\n                            <div class="v-progress-linear__indeterminate short primary"></div>\n                          </div>\n                        </div>\n                        '+t+"\n                      </div>\n                    </div>\n                  ").html(),{headers:{"content-type":"text/html;charset=UTF-8"}})):e.put("/dom-cache?id="+o,new Response($("\n                    <div>\n                      "+t+"\n                    </div>\n                  ").html(),{headers:{"content-type":"text/html;charset=UTF-8"}}))}),500)}))};n.componentInstance.$root.$once("application-mount",(function(t){var o;t&&console.warn("It seems that "+e.id+" didn't stopped displaying top bar loading"),(o=document.querySelector("#UIPortalApplication #"+r))?o.parentElement.replaceChild(n.componentInstance.$root.$el,o):console.warn("Application with identifier "+r+" was not found in page")})),n.componentInstance.$root.$on("application-loaded",(function(){i(),n.componentInstance.$root.$vuetify.rtl="rtl"===eXo.env.portal.orientation,n.componentInstance.$root.$emit("application-mount")})),n.componentInstance.$root.$on("application-cache",(function(){i()}))},inserted:function(e,t,n){window.setTimeout((function(){n.componentInstance.$root.$emit("application-mount",!0)}),1e4)}});var pt={};function ft(){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaceTemplates/templates",{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function ht(e,t,n,r,o,i){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/"+i+"/users?role="+o+"&q="+(e||"")+"&offset="+(t||0)+"&limit="+(n||0)+"&expand="+(r||"")+"&returnSize=true",{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function mt(e){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/"+e+"/externalInvitations",{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function vt(e,t){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/externalInvitations/"+t,{method:"DELETE",credentials:"include"}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function gt(e,t){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/"+e+"/users/"+t,{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function yt(e,t){var n=e+"-"+(t=t||"");return pt[n]?Promise.resolve(pt[n]):fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/"+e+"?expand="+t,{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)})).then((function(e){return e&&(pt[n]=e),e}))}function wt(e,t){var n=e+"-"+(t=t||"");return pt[n]?Promise.resolve(pt[n]):fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/byPrettyName/"+e+"?expand="+t,{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)})).then((function(e){return e&&(pt[n]=e),e}))}function bt(e,t){var n=e+"-"+(t=t||"");return pt[n]?Promise.resolve(pt[n]):fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/byDisplayName/"+e+"?expand="+t,{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)})).then((function(e){return e&&(pt[n]=e),e}))}function xt(e){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/"+e+"/applications",{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function St(){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/applications",{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function _t(e){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/applications/"+e,{method:"DELETE",credentials:"include"}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Et(e){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/applications",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({applicationName:e.applicationName,contentId:e.contentId,description:e.description,displayName:e.displayName||e.applicationName,id:e.id})}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Tt(e){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/"+e+"/navigations",{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)})).then((function(e){return(e=e||[]).length&&e[0].children&&e[0].children.length&&(e=[e[0]].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e[0].children))),e}))}function Ct(e,t,n,r,o){return o||(o="requests"===r?"pending":n?"managers":""),fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces?q="+(e||"")+"&offset="+(t||0)+"&limit="+(n||0)+"&filterType="+r+"&returnSize=true&expand="+o,{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function It(e){return sessionStorage&&sessionStorage.removeItem("Suggestions_Spaces_"+eXo.env.server.sessionId),fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/"+e,{method:"DELETE",credentials:"include"}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Xt(e){return sessionStorage&&sessionStorage.removeItem("Suggestions_Spaces_"+eXo.env.server.sessionId),fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/"+e.id,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e&&e.ok?e.json():e.text().then((function(e){throw new Error(e)}))}))}function Pt(e){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e&&e.ok?e.json():e.text().then((function(e){throw new Error(e)}))}))}function Ot(e){return sessionStorage&&sessionStorage.removeItem("Suggestions_Spaces_"+eXo.env.server.sessionId),fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/homepage/intranet/spaces/leave/"+e,{method:"DELETE",credentials:"include"}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function $t(e){return sessionStorage&&sessionStorage.removeItem("Suggestions_Spaces_"+eXo.env.server.sessionId),fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/homepage/intranet/spaces/cancel/"+e,{method:"DELETE",credentials:"include"}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Dt(e){return sessionStorage&&sessionStorage.removeItem("Suggestions_Spaces_"+eXo.env.server.sessionId),fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/homepage/intranet/spaces/join/"+e,{method:"GET",credentials:"include"}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function kt(e){return sessionStorage&&sessionStorage.removeItem("Suggestions_Spaces_"+eXo.env.server.sessionId),fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/homepage/intranet/spaces/request/"+e,{method:"GET",credentials:"include"}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function At(e){return sessionStorage&&sessionStorage.removeItem("Suggestions_Spaces_"+eXo.env.server.sessionId),fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/homepage/intranet/spaces/accept/"+e,{method:"GET",credentials:"include"}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Rt(e){return sessionStorage&&sessionStorage.removeItem("Suggestions_Spaces_"+eXo.env.server.sessionId),fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/homepage/intranet/spaces/deny/"+e,{method:"GET",credentials:"include"}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function jt(e,t){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spacesMemberships",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({space:e,user:t,role:"MEMBER",status:"APPROVED"})}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Lt(e,t){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spacesMemberships",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({space:e,user:t,status:"IGNORED"})}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Nt(e,t){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spacesMemberships",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({space:e,user:t,status:"IGNORED"})}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Ut(e,t){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spacesMemberships",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({space:e,user:t,role:"manager"})}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Vt(e,t){var n=e+":"+t+":manager";return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spacesMemberships/"+n,{method:"DELETE",credentials:"include"}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Mt(e,t){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spacesMemberships",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({space:e,user:t,role:"redactor"})}).then((function(n){if(!n||!n.ok)throw new Error("Error while setting user "+t+" as a redactor in "+e+" space",n)}))}function Bt(e,t){var n=e+":"+t+":redactor";return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spacesMemberships/"+n,{method:"DELETE",credentials:"include"}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function zt(e,t){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/"+e+"/applications",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"appId="+t}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Gt(e,t){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/"+e+"/applications/"+t,{method:"DELETE",credentials:"include"}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function qt(e,t){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/"+e+"/applications/"+t,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"transition=-1"}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Ft(e,t){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/"+e+"/applications/"+t,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"transition=1"}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Ht(e,t){var n=e+":"+t+":member";return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spacesMemberships/"+n,{method:"DELETE",credentials:"include"}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}function Jt(){var e=sessionStorage&&sessionStorage.getItem("Suggestions_Spaces_"+eXo.env.server.sessionId);return e?Promise.resolve(JSON.parse(e)):fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/homepage/intranet/spaces/suggestions",{credentials:"include"}).then((function(e){return e&&e.ok?e.json():e.text().then((function(e){throw new Error(e)}))})).then((function(e){if(sessionStorage&&e)try{sessionStorage.setItem("Suggestions_Spaces_"+eXo.env.server.sessionId,JSON.stringify(e))}catch(e){}return e}))}function Wt(e){sessionStorage&&sessionStorage.removeItem("Suggestions_Spaces_"+eXo.env.server.sessionId);var t={user:e.username,space:e.displayName,status:"IGNORED"};return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spacesMemberships/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e&&e.ok?e.json():e.text().then((function(e){throw new Error(e)}))}))}function Kt(e){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/"+e+"/checkExternals",{method:"GET",credentials:"include"}).then((function(e){return e&&e.ok?e.text():e.text().then((function(e){throw new Error(e)}))}))}function Yt(e,t){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/activities/"+e+"/share",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e&&e.ok?e.json():e.text().then((function(e){throw new Error(e)}))}))}function Zt(e){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/identities/"+e,{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Qt(e,t){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/identities/"+e+"/"+t,{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function en(e,t,n,r,o,i,a,s,l,c,u){i&&(c("space"),function(e,t,n,r,o){var i=new FormData;i.append("filterType","member"),i.append("limit","20"),i.append("q",e);var a=new URLSearchParams(i).toString();return fetch("/portal/rest/v1/social/spaces?"+a,{credentials:"include"}).then((function(e){return e&&e.ok&&e.json()})).then((function(e){e.spaces.forEach((function(e){(r&&e.redactorsCount||n&&!e.isRedactor&&e.redactorsCount)&&o&&!e.canEdit||t.push({id:"space:"+e.prettyName,remoteId:e.prettyName,providerId:"space",spaceId:e.id,displayName:e.displayName,profile:{fullName:e.displayName,originalName:e.shortName,avatarUrl:e.avatarUrl?e.avatarUrl:"/portal/rest/v1/social/spaces/"+e.prettyName+"/avatar"}})}))}))}(e,t,a,s,l).finally((function(){return u&&u("space")}))),o&&(c("organization"),function(e,t,n,r){var o={nameToSearch:e,typeOfRelation:n||"mention_activity_stream",currentUser:eXo.env.portal.userName},i=null,a=null;r&&!r.searchUrl?(Object.assign(o,r),i=$.param(o),a="/portal/rest/social/people/suggest.json?".concat(i)):r.options?(i=$.param(r.options),a=r.searchUrl.concat(e+"?"+i)):a=r.searchUrl.concat(e);return fetch(a,{credentials:"include"}).then((function(e){return e&&e.ok&&e.json()})).then((function(e){e&&(e=e.options||e)&&e.length&&e.forEach((function(e){var n=e.value||e.id;e.id&&0===e.id.indexOf("@")&&(n=e.id.substring(1)),t.push({id:"organization:"+n,remoteId:n,providerId:"organization",profile:{fullName:e.name||e.text,avatarUrl:e.avatar||e.avatarUrl||"/portal/rest/v1/social/users/"+n+"/avatar"}})}))}))}(e,t,n,r).finally((function(){return u&&u("organization")})))}function tn(e){if(!e)return null;var t={id:e.providerId+":"+e.remoteId,providerId:e.providerId,remoteId:e.remoteId},n=e.profile||e.space;return n&&(t.profile={avatarUrl:n.avatarUrl||n.avatar,fullName:n.displayName||n.fullname||n.fullName}),t}function nn(e){if(!nn)return null;var t={providerId:e.providerId,remoteId:e.remoteId},n=e.profile;return n&&(t.profile={avatar:n.avatarUrl,fullname:n.fullName,originalName:n.originalName}),t}function rn(e){return e?Zt(e).then(tn):Promise.resolve(null)}function on(e){return e&&e.providerId&&e.remoteId?Qt(e.providerId,e.remoteId):Promise.resolve(null)}var an="AVATAR_EXCEEDS_LIMIT",sn="BANNER_EXCEEDS_LIMIT",ln=1e5;function cn(e){return fetch(eXo.env.portal.context+"/upload?uploadId="+e+"&action=progress",{method:"GET",credentials:"include"}).then((function(e){return e&&e.ok&&e.text()})).then((function(t){if((t=(t=JSON.parse(t.replace("upload",'"upload"')))&&t.upload||t)[e]){if(t[e]&&"failed"===t[e].status)throw new Error("Upload error");return t[e].percent}return 0}))}function un(e){return fetch(eXo.env.portal.context+"/upload?uploadId="+e+"&action=delete",{method:"POST",credentials:"include"})}function dn(e){return fetch(eXo.env.portal.context+"/upload?uploadId="+e+"&action=abort",{method:"POST",credentials:"include"})}function pn(e,t,n){t||(t=fn());var r=eXo.env.portal.context+"/upload?uploadId="+t+"&action=upload",o=new FormData;o.append("file",e);var i={method:"POST",credentials:"include",body:o};return n&&(i.signal=n),fetch(r,i).then((function(e){return e&&e.ok&&t}))}function fn(){return Math.round(Math.random()*ln)+"-"+Date.now()}var hn=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},mn=/^[1-9][0-9]*$/g;function vn(e,t){if(e=String(e).trim(),new RegExp(mn).test(e))return new Date(parseInt(e));if(t)return new Date(e);var n=e.trim().split("/"),r=hn(n,3),o=r[0],i=r[1],a=r[2];return new Date(a,parseInt(i)-1,o)}function gn(e){return e?(e.getUTCFullYear()+"-"+(e.getUTCMonth()+1<10?"0"+(e.getUTCMonth()+1):e.getUTCMonth()+1)+"-"+(e.getUTCDate()<10?"0"+(e.getUTCDate()):e.getUTCDate())):null}function yn(e,t,n){return n||(n=eXo.env.portal.language),t?(n=n.replace(/[-_][a-z]+$/i,""),new window.Intl.DateTimeFormat(n,t).format(new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(), e.getUTCHours(), e.getUTCMinutes(), e.getSeconds()))):gn(e)}function wn(e){if(!e||!e.getTime)return"";var t=(Date.now()-e.getTime())/1e3;return t<60?"TimeConvert.label.Less_Than_A_Minute":t<120?"TimeConvert.label.About_A_Minute":t<3600?"TimeConvert.label.About_?_Minutes":t<7200?"TimeConvert.label.About_An_Hour":t<86400?"TimeConvert.label.About_?_Hours":t<172800?"TimeConvert.label.About_A_Day":t<2592e3?"TimeConvert.label.About_?_Days":t<5184e3?"TimeConvert.label.About_A_Month":"TimeConvert.label.About_?_Months"}function bn(e){if(!e||!e.getTime)return"";var t=(Date.now()-e.getTime())/1e3;return t>=120&&t<3600?Math.round(t/60):t>=7200&&t<86400?Math.round(t/3600):t>=172800&&t<2592e3?Math.round(t/86400):t>=5184e3?Math.round(t/2592e3):void 0}function xn(e){if(!e||!e.getTime)return"";var t=parseInt((Date.now()-e.getTime())/6e4);if(t<1)return"TimeConvert.label.Short.Now";var n=parseInt(t/60);if(n<1)return"TimeConvert.label.Short.Minutes";var r=parseInt(n/24);if(r<1)return"TimeConvert.label.Short.Hours";var o=parseInt(r/30);return o<1?"TimeConvert.label.Short.Days":o<12?"TimeConvert.label.Short.Months":"TimeConvert.label.Short.Years"}function Sn(e){if(!e||!e.getTime)return"";var t=parseInt((Date.now()-e.getTime())/6e4);if(t>1){var n=parseInt(t/60);if(n<1)return t;var r=parseInt(n/24);if(r<1)return n;var o=parseInt(r/30);return o<1?r:o<12?o:parseInt(o/12)}}var _n=n(2);function En(e){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/features/"+e,{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.text();throw new Error("Response code indicates a server error",e)})).then((function(e){return"true"===e}))}function Tn(e,t,n){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/activities?spaceId="+(e||"")+"&limit="+t+"&expand="+(n||""),{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Cn(e,t){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/activities/"+e+"?expand="+(t||""),{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function In(e,t,n,r,o){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/activities/"+e+"/comments?returnSize=true&sortDescending="+(t||!1)+"&offset="+(n||0)+"&limit="+(r||10)+"&expand="+(o||""),{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)})).then((function(e){return e.comments=Ln(e.comments),e}))}function Xn(e,t,n,r,o){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/activities?spaceId="+(r||""),{headers:{"Content-Type":"application/json"},credentials:"include",method:"POST",body:JSON.stringify({title:e,type:t,templateParams:o||{},files:n})}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Pn(e,t,n,r){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/activities/"+e+"/share",{headers:{"Content-Type":"application/json"},credentials:"include",method:"POST",body:JSON.stringify({title:t,templateParams:n,targetSpaces:r})}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function On(e,t,n,r,o){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/activities/"+e,{headers:{"Content-Type":"application/json"},credentials:"include",method:"PUT",body:JSON.stringify({title:t,type:n,templateParams:o||{},files:r})}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function $n(e,t){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/activities/"+e+"?hide="+(t||!1),{method:"DELETE",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Dn(e,t,n){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/activities/"+e+"/likes?offset="+(t||0)+"&limit="+(n||50),{method:"GET",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function kn(e){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/activities/"+e+"/likes",{method:"POST",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function An(e){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/activities/"+e+"/likes",{method:"DELETE",credentials:"include"}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Rn(e,t,n,r,o){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/activities/"+e+"/comments?expand="+(o||""),{headers:{"Content-Type":"application/json"},credentials:"include",method:"POST",body:JSON.stringify({title:n,body:n,parentCommentId:t,templateParams:r})}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function jn(e,t,n,r,o,i){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/activities/"+e+"/comments?expand="+(i||""),{headers:{"Content-Type":"application/json"},credentials:"include",method:"PUT",body:JSON.stringify({id:n,title:r,body:r,parentCommentId:t,templateParams:o})}).then((function(e){if(e&&e.ok)return e.json();throw new Error("Response code indicates a server error",e)}))}function Ln(e){var t=[];if(e&&e.length){var n={};e.forEach((function(e){if(e.parentCommentId){var r=n[e.parentCommentId];if(r)r.subCommentsSize++,r.subComments||(r.subComments=[]),r.subComments.push(e);else{if(!(r=t.find((function(t){return t.id===e.parentCommentId}))))return;n[e.parentCommentId]=r,r.subCommentsSize=1,r.subComments=[e]}}else n[e.parentCommentId]=e,e.subCommentsSize||(e.subCommentsSize=0,e.subComments=[]),t.push(e)})),t.length&&(t.forEach((function(e){e.subComments&&e.subComments.length&&e.subComments.sort(Nn)})),t.sort(Nn))}return t}function Nn(e,t){return new Date(e.createDate).getTime()-new Date(t.createDate).getTime()}var Un={ENV:eXo.env.portal||"",PORTAL:eXo.env.portal.context||"",PORTAL_NAME:eXo.env.portal.portalName||"",PORTAL_CONTEXT:eXo.env.portal.context,PORTAL_REST:eXo.env.portal.rest,PROFILE_SPACE_LINK:"/g/:spaces:",SOCIAL_USER_API:eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/users/",SOCIAL_SPACE_API:eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaces/",SPACES_ADMINISTRATION_API:eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spacesAdministration",SPACE_GROUP_BINDING_API:eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaceGroupBindings",USER_API:eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/users",GROUP_API:eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/groups",SPACES_PER_PAGE:30,DEFAULT_SPACE_AVATAR:"/eXoSkin/skin/images/system/SpaceAvtDefault.png",SPACES_TEMPLATES_API:eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/social/spaceTemplates",CONTAINER_NAME:eXo.env.portal.containerName||"",SPACE_ID:eXo.env.portal.spaceId,LANG:eXo.env.portal.language,HOST_NAME:window.location.host,MANAGERS_ROLE:"/users?role=manager",UPLOAD_API:eXo.env.portal.context+"/upload",MAX_UPLOAD_SIZE:10,MAX_UPLOAD_FILES:1,userName:eXo.env.portal.userName,format:"json",typeOfRelation:"confirmed"},Vn=document.createElement("textarea");function Mn(e){if(!e)return"";var t=e.replace(/<[^>]+>/g," ").trim();return Vn.innerHTML=t,(t=Vn.value).replace(/[\r|\n|\t]/g," ").replace(/ +(?= )/g," ").trim()}function Bn(e){return e&&e.trim().replace(/(<p>(&nbsp;)*([ \\n\\r\\t])*<\/p>)*(<div>(&nbsp;)*( \\n\\r\\t)*<\/div>)*(\\r)*(\\n)*(\\t)*/g,"")||""}function zn(e,t){var n=$(e).find('a[href*="/profile/"]');$.each(n,(function(e,n){$(n).userPopup({restURL:eXo.env.portal.context+"/"+eXo.env.portal.rest+"/social/people/getPeopleInfo/{0}.json",labels:t,content:!1,defaultPosition:"left",keepAlive:!0,maxWidth:"240px"})}))}if(extensionRegistry){var Gn=extensionRegistry.loadComponents("CommonComponents");Gn&&Gn.length>0&&Gn.forEach((function(e){Vue.component(e.componentName,e.componentOptions)}))}Vuetify.prototype.preset=eXo.env.portal.vuetifyPreset,Vue.use(Vuetify),Vue.use(VueEllipsis),Vue.prototype.vuetifyOptions=new Vuetify(eXo.env.portal.vuetifyPreset),window.Object.defineProperty(Vue.prototype,"$userService",{value:r}),window.Object.defineProperty(Vue.prototype,"$spaceService",{value:o}),window.Object.defineProperty(Vue.prototype,"$suggesterService",{value:a}),window.Object.defineProperty(Vue.prototype,"$uploadService",{value:s}),window.Object.defineProperty(Vue.prototype,"$identityService",{value:i}),window.Object.defineProperty(Vue.prototype,"$dateUtil",{value:l}),window.Object.defineProperty(Vue.prototype,"$settingService",{value:_n}),window.Object.defineProperty(Vue.prototype,"$featureService",{value:c}),window.Object.defineProperty(Vue.prototype,"$activityService",{value:u}),window.Object.defineProperty(Vue.prototype,"$utils",{value:d}),window.Object.defineProperty(Vue.prototype,"$spacesConstants",{value:Un}),window.Object.defineProperty(Vue.prototype,"$currentUserIdentity",{value:{id:eXo.env.portal.userIdentityId,username:eXo.env.portal.userName}}),Zt(eXo.env.portal.userIdentityId).then((function(e){e&&Object.assign(Vue.prototype.$currentUserIdentity,e)}));var qn="undefined"!=typeof eXo?eXo.env.portal.language:"en",Fn=[eXo.env.portal.context+"/"+eXo.env.portal.rest+"/i18n/bundle/locale.portlet.Portlets-"+qn+".json",eXo.env.portal.context+"/"+eXo.env.portal.rest+"/i18n/bundle/locale.social.Webui-"+qn+".json",eXo.env.portal.context+"/"+eXo.env.portal.rest+"/i18n/bundle/locale.commons.Commons-"+qn+".json",eXo.env.portal.context+"/"+eXo.env.portal.rest+"/i18n/bundle/locale.portlet.social.UserPopup-"+qn+".json",eXo.env.portal.context+"/"+eXo.env.portal.rest+"/i18n/bundle/locale.portlet.social.SpacesListApplication-"+qn+".json"];exoi18n.loadLanguageAsync(qn,Fn).then((function(e){var t=document.querySelector("#MiddleToolBarChildren"),n=t.querySelector("#drawers-overlay");n||((n=document.createElement("div")).id="drawers-overlay",n.class="v-application v-application--is-ltr transparent theme--light",t.appendChild(n),t.classList.add("VuetifyApp")),new Vue({created:function(){this.$userPopupLabels=Vue.prototype.$userPopupLabels={CancelRequest:this.$t("UserProfilePopup.label.CancelRequest"),Confirm:this.$t("UserProfilePopup.label.Confirm"),Connect:this.$t("UserProfilePopup.label.Connect"),Ignore:this.$t("UserProfilePopup.label.Ignore"),RemoveConnection:this.$t("UserProfilePopup.label.RemoveConnection"),StatusTitle:this.$t("UserProfilePopup.label.Loading"),External:this.$t("UserProfilePopup.label.External"),Disabled:this.$t("UserProfilePopup.label.Disabled"),Loading:this.$t("UserProfilePopup.label.Loading")},this.$spacePopupLabels=Vue.prototype.$spacePopupLabels={CancelRequest:this.$t("UserProfilePopup.label.CancelRequest"),Confirm:this.$t("UserProfilePopup.label.Confirm"),Connect:this.$t("UserProfilePopup.label.Connect"),Ignore:this.$t("UserProfilePopup.label.Ignore"),RemoveConnection:this.$t("UserProfilePopup.label.RemoveConnection"),StatusTitle:this.$t("UserProfilePopup.label.Loading"),External:this.$t("UserProfilePopup.label.External"),join:this.$t("spacesList.button.join"),leave:this.$t("spacesList.button.leave"),members:this.$t("spacesList.label.SpaceMembers")}},template:'<drawers-overlay id="drawers-overlay" />',vuetify:Vue.prototype.vuetifyOptions,i18n:e}).$mount(n)}))},2:function(e,t,n){"use strict";function r(e,t,n,r,o,i){return fetch(eXo.env.portal.context+"/"+eXo.env.portal.rest+"/v1/settings/"+e+","+t+"/"+n+","+r+"/"+o,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({value:i})}).then((function(e){if(!e||!e.ok)throw new Error("Response code indicates a server error",e)}))}n.r(t),n.d(t,"setSettingValue",(function(){return r}))}})}));